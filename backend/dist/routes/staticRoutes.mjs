import express from 'express';
import path from 'path';
import setupLogger from '../config/logger';
const router = express.Router();
const logger = setupLogger();
async function setupStaticRoutes() {
	const staticRootPath = process.env.STATIC_ROOT_PATH;
	// Define root file path for public/
	router.get('/', (req, res) => {
		logger.info('GET request received at /');
		res.sendFile(path.join(staticRootPath, 'index.html'));
		logger.info('index.html was accessed');
	});
	// Serve root HTML files
	router.get('/:page', (req, res) => {
		const page = req.params.page;
		res.sendFile(path.join(staticRootPath, `${page}.html`), err => {
			if (err) {
				res.status(404).send('Page not found');
			}
		});
	});
	// Serve static directories
	router.use('/css', express.static(path.join(staticRootPath, 'assets/css')));
	router.use('/js', express.static(path.join(staticRootPath, 'assets/js')));
	router.use(
		'/images',
		express.static(path.join(staticRootPath, 'assets/images'))
	);
	router.use(
		'/fonts',
		express.static(path.join(staticRootPath, 'assets/fonts'))
	);
	router.use(
		'/icons',
		express.static(path.join(staticRootPath, 'assets/icons'))
	);
	// Serve nested HTML files
	router.get('/*', (req, res) => {
		res.sendFile(path.join(staticRootPath, `${req.path}.html`), err => {
			if (err) {
				res.status(404).send('Page not found');
			}
		});
	});
	// Serve specific static files
	router.get('/app.js', (req, res) => {
		logger.info('GET request received at /app.js');
		res.sendFile(process.env.FRONTEND_APP_JS_PATH);
		logger.info('app.js was accessed');
	});
	router.get('/secrets.json.gpg', (req, res) => {
		logger.info('GET request received at /secrets.json.gpg');
		res.sendFile(process.env.FRONTEND_SECRETS_PATH, err => {
			if (err) {
				logger.error('Failed to send secrets.json.gpg:', err);
				res.status(404).send('File not found');
			} else {
				logger.info('secrets.json.gpg was accessed');
			}
		});
	});
	router.get('/browser-config.xml', (req, res) => {
		logger.info('GET request received at /browser-config.xml');
		res.sendFile(process.env.FRONTEND_BROWSER_CONFIG_XML_PATH);
		logger.info('browser-config.xml was accessed');
	});
	router.get('/humans.md', (req, res) => {
		logger.info('GET request received at /humans.md');
		res.sendFile(process.env.FRONTEND_HUMANS_MD_PATH);
		logger.info('humans.md was accessed');
	});
	router.get('/robots.txt', (req, res) => {
		logger.info('GET request received at /robots.txt');
		res.sendFile(process.env.FRONTEND_ROBOTS_TXT_PATH);
		logger.info('robots.txt was accessed');
	});
	// 404 handler for unmatched routes
	router.use((req, res) => {
		res.status(404).sendFile(path.join(staticRootPath, 'not-found.html'));
		logger.info('404 - Not Found');
	});
}
// For setting up routes when initializing the application
export default async function initializeStaticRoutes(app) {
	try {
		await setupStaticRoutes();
		app.use('/', router);
	} catch (err) {
		logger.error('Error setting up routes: ', err);
	}
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGljUm91dGVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3JvdXRlcy9zdGF0aWNSb3V0ZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxPQUFPLE1BQU0sU0FBUyxDQUFDO0FBQzlCLE9BQU8sSUFBSSxNQUFNLE1BQU0sQ0FBQztBQUN4QixPQUFPLFdBQVcsTUFBTSxrQkFBa0IsQ0FBQztBQUUzQyxNQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDaEMsTUFBTSxNQUFNLEdBQUcsV0FBVyxFQUFFLENBQUM7QUFFN0IsS0FBSyxVQUFVLGlCQUFpQjtJQUMvQixNQUFNLGNBQWMsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLGdCQUEwQixDQUFDO0lBRTlELG9DQUFvQztJQUNwQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUM1QixNQUFNLENBQUMsSUFBSSxDQUFDLDJCQUEyQixDQUFDLENBQUM7UUFDekMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBQ3RELE1BQU0sQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUMsQ0FBQztJQUN4QyxDQUFDLENBQUMsQ0FBQztJQUVILHdCQUF3QjtJQUN4QixNQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUNqQyxNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztRQUM3QixHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLEdBQUcsSUFBSSxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRTtZQUM3RCxJQUFJLEdBQUcsRUFBRSxDQUFDO2dCQUNULEdBQUcs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c0JBQXNCLENBQ25ELEdBQXdCO0lBRXhCLElBQUksQ0FBQztRQUNKLE1BQU0saUJBQWlCLEVBQUUsQ0FBQztRQUMxQixHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUNkLE1BQU0sQ0FBQyxLQUFLLENBQUMsMkJBQTJCLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDaEQsQ0FBQztBQUNGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHNldHVwTG9nZ2VyIGZyb20gJy4uL2NvbmZpZy9sb2dnZXInO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuY29uc3QgbG9nZ2VyID0gc2V0dXBMb2dnZXIoKTtcblxuYXN5bmMgZnVuY3Rpb24gc2V0dXBTdGF0aWNSb3V0ZXMoKTogUHJvbWlzZTx2b2lkPiB7XG5cdGNvbnN0IHN0YXRpY1Jvb3RQYXRoID0gcHJvY2Vzcy5lbnYuU1RBVElDX1JPT1RfUEFUSCBhcyBzdHJpbmc7XG5cblx0Ly8gRGVmaW5lIHJvb3QgZmlsZSBwYXRoIGZvciBwdWJsaWMvXG5cdHJvdXRlci5nZXQoJy8nLCAocmVxLCByZXMpID0+IHtcblx0XHRsb2dnZXIuaW5mbygnR0VUIHJlcXVlc3QgcmVjZWl2ZWQgYXQgLycpO1xuXHRcdHJlcy5zZW5kRmlsZShwYXRoLmpvaW4oc3RhdGljUm9vdFBhdGgsICdpbmRleC5odG1sJykpO1xuXHRcdGxvZ2dlci5pbmZvKCdpbmRleC5odG1sIHdhcyBhY2Nlc3NlZCcpO1xuXHR9KTtcblxuXHQvLyBTZXJ2ZSByb290IEhUTUwgZmlsZXNcblx0cm91dGVyLmdldCgnLzpwYWdlJywgKHJlcSwgcmVzKSA9PiB7XG5cdFx0Y29uc3QgcGFnZSA9IHJlcS5wYXJhbXMucGFnZTtcblx0XHRyZXMuc2VuZEZpbGUocGF0aC5qb2luKHN0YXRpY1Jvb3RQYXRoLCBgJHtwYWdlfS5odG1sYCksIGVyciA9PiB7XG5cdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdHJlcy5zdGF0dXMoNDA0KS5zZW5kKCdQYWdlIG5vdCBmb3VuZCcpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblxuXHQvLyBTZXJ2ZSBzdGF0aWMgZGlyZWN0b3JpZXNcblx0cm91dGVyLnVzZSgnL2NzcycsIGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihzdGF0aWNSb290UGF0aCwgJ2Fzc2V0cy9jc3MnKSkpO1xuXHRyb3V0ZXIudXNlKCcvanMnLCBleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oc3RhdGljUm9vdFBhdGgsICdhc3NldHMvanMnKSkpO1xuXHRyb3V0ZXIudXNlKFxuXHRcdCcvaW1hZ2VzJyxcblx0XHRleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oc3RhdGljUm9vdFBhdGgsICdhc3NldHMvaW1hZ2VzJykpXG5cdCk7XG5cdHJvdXRlci51c2UoXG5cdFx0Jy9mb250cycsXG5cdFx0ZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKHN0YXRpY1Jvb3RQYXRoLCAnYXNzZXRzL2ZvbnRzJykpXG5cdCk7XG5cdHJvdXRlci51c2UoXG5cdFx0Jy9pY29ucycsXG5cdFx0ZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKHN0YXRpY1Jvb3RQYXRoLCAnYXNzZXRzL2ljb25zJykpXG5cdCk7XG5cblx0Ly8gU2VydmUgbmVzdGVkIEhUTUwgZmlsZXNcblx0cm91dGVyLmdldCgnLyonLCAocmVxLCByZXMpID0+IHtcblx0XHRyZXMuc2VuZEZpbGUocGF0aC5qb2luKHN0YXRpY1Jvb3RQYXRoLCBgJHtyZXEucGF0aH0uaHRtbGApLCBlcnIgPT4ge1xuXHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRyZXMuc3RhdHVzKDQwNCkuc2VuZCgnUGFnZSBub3QgZm91bmQnKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cblx0Ly8gU2VydmUgc3BlY2lmaWMgc3RhdGljIGZpbGVzXG5cdHJvdXRlci5nZXQoJy9hcHAuanMnLCAocmVxLCByZXMpID0+IHtcblx0XHRsb2dnZXIuaW5mbygnR0VUIHJlcXVlc3QgcmVjZWl2ZWQgYXQgL2FwcC5qcycpO1xuXHRcdHJlcy5zZW5kRmlsZShwcm9jZXNzLmVudi5GUk9OVEVORF9BUFBfSlNfUEFUSCBhcyBzdHJpbmcpO1xuXHRcdGxvZ2dlci5pbmZvKCdhcHAuanMgd2FzIGFjY2Vzc2VkJyk7XG5cdH0pO1xuXG5cdHJvdXRlci5nZXQoJy9zZWNyZXRzLmpzb24uZ3BnJywgKHJlcSwgcmVzKSA9PiB7XG5cdFx0bG9nZ2VyLmluZm8oJ0dFVCByZXF1ZXN0IHJlY2VpdmVkIGF0IC9zZWNyZXRzLmpzb24uZ3BnJyk7XG5cdFx0cmVzLnNlbmRGaWxlKHByb2Nlc3MuZW52LkZST05URU5EX1NFQ1JFVFNfUEFUSCBhcyBzdHJpbmcsIGVyciA9PiB7XG5cdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHNlbmQgc2VjcmV0cy5qc29uLmdwZzonLCBlcnIpO1xuXHRcdFx0XHRyZXMuc3RhdHVzKDQwNCkuc2VuZCgnRmlsZSBub3QgZm91bmQnKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGxvZ2dlci5pbmZvKCdzZWNyZXRzLmpzb24uZ3BnIHdhcyBhY2Nlc3NlZCcpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblxuXHRyb3V0ZXIuZ2V0KCcvYnJvd3Nlci1jb25maWcueG1sJywgKHJlcSwgcmVzKSA9PiB7XG5cdFx0bG9nZ2VyLmluZm8oJ0dFVCByZXF1ZXN0IHJlY2VpdmVkIGF0IC9icm93c2VyLWNvbmZpZy54bWwnKTtcblx0XHRyZXMuc2VuZEZpbGUocHJvY2Vzcy5lbnYuRlJPTlRFTkRfQlJPV1NFUl9DT05GSUdfWE1MX1BBVEggYXMgc3RyaW5nKTtcblx0XHRsb2dnZXIuaW5mbygnYnJvd3Nlci1jb25maWcueG1sIHdhcyBhY2Nlc3NlZCcpO1xuXHR9KTtcblxuXHRyb3V0ZXIuZ2V0KCcvaHVtYW5zLm1kJywgKHJlcSwgcmVzKSA9PiB7XG5cdFx0bG9nZ2VyLmluZm8oJ0dFVCByZXF1ZXN0IHJlY2VpdmVkIGF0IC9odW1hbnMubWQnKTtcblx0XHRyZXMuc2VuZEZpbGUocHJvY2Vzcy5lbnYuRlJPTlRFTkRfSFVNQU5TX01EX1BBVEggYXMgc3RyaW5nKTtcblx0XHRsb2dnZXIuaW5mbygnaHVtYW5zLm1kIHdhcyBhY2Nlc3NlZCcpO1xuXHR9KTtcblxuXHRyb3V0ZXIuZ2V0KCcvcm9ib3RzLnR4dCcsIChyZXEsIHJlcykgPT4ge1xuXHRcdGxvZ2dlci5pbmZvKCdHRVQgcmVxdWVzdCByZWNlaXZlZCBhdCAvcm9ib3RzLnR4dCcpO1xuXHRcdHJlcy5zZW5kRmlsZShwcm9jZXNzLmVudi5GUk9OVEVORF9ST0JPVFNfVFhUX1BBVEggYXMgc3RyaW5nKTtcblx0XHRsb2dnZXIuaW5mbygncm9ib3RzLnR4dCB3YXMgYWNjZXNzZWQnKTtcblx0fSk7XG5cblx0Ly8gNDA0IGhhbmRsZXIgZm9yIHVubWF0Y2hlZCByb3V0ZXNcblx0cm91dGVyLnVzZSgocmVxLCByZXMpID0+IHtcblx0XHRyZXMuc3RhdHVzKDQwNCkuc2VuZEZpbGUocGF0aC5qb2luKHN0YXRpY1Jvb3RQYXRoLCAnbm90LWZvdW5kLmh0bWwnKSk7XG5cdFx0bG9nZ2VyLmluZm8oJzQwNCAtIE5vdCBGb3VuZCcpO1xuXHR9KTtcbn1cblxuLy8gRm9yIHNldHRpbmcgdXAgcm91dGVzIHdoZW4gaW5pdGlhbGl6aW5nIHRoZSBhcHBsaWNhdGlvblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZVN0YXRpY1JvdXRlcyhcblx0YXBwOiBleHByZXNzLkFwcGxpY2F0aW9uXG4pOiBQcm9taXNlPHZvaWQ+IHtcblx0dHJ5IHtcblx0XHRhd2FpdCBzZXR1cFN0YXRpY1JvdXRlcygpO1xuXHRcdGFwcC51c2UoJy8nLCByb3V0ZXIpO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRsb2dnZXIuZXJyb3IoJ0Vycm9yIHNldHRpbmcgdXAgcm91dGVzOiAnLCBlcnIpO1xuXHR9XG59XG4iXX0=
