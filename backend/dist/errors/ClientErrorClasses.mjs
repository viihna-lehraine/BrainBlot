import { FallbackSuccessInfo } from './AppErrorClasses.mjs';
import {
	ClientError,
	ErrorSeverity,
	createQuotaExceededMessage,
	createRetryMessage,
	defaultRetryAfter
} from './ErrorClasses.mjs';
import { ERROR_CODES } from '../config/errorCodes.mjs';
export class AutoCorrectedInputWarning extends ClientError {
	constructor(fieldName, details = {}) {
		const errorMessage = fieldName
			? `${fieldName} was auto-corrected`
			: 'Input was auto-corrected';
		const customDetails = fieldName ? { fieldName, ...details } : details;
		super(
			errorMessage,
			200,
			ErrorSeverity.WARNING,
			ERROR_CODES.AUTOCORRECT_INPUT_WARNING,
			customDetails
		);
		this.name = 'AutoCorrectedInputWarning';
	}
}
export class ClientAuthenticationError extends ClientError {
	constructor(errorMessage = 'Authentication failed', details = {}) {
		super(
			errorMessage,
			401,
			ErrorSeverity.RECOVERABLE,
			ERROR_CODES.CLIENT_AUTH_ERROR,
			details
		);
		this.name = 'AuthenticationError';
	}
}
export class DeprecatedApiWarning extends ClientError {
	constructor(apiVersion, details = {}) {
		const errorMessage = apiVersion
			? `Deprecated API version ${apiVersion} used`
			: 'Deprecated API version used';
		const customDetails = apiVersion ? { apiVersion, ...details } : details;
		super(
			errorMessage,
			200,
			ErrorSeverity.WARNING,
			ERROR_CODES.DEPRECATED_API_WARNING,
			customDetails
		);
		this.name = 'DeprecatedApiWarning';
	}
}
export class ExternalServiceError extends ClientError {
	constructor(
		errorMessage = 'Service temporarily unavailable',
		details = {}
	) {
		super(
			errorMessage,
			503,
			ErrorSeverity.RECOVERABLE,
			ERROR_CODES.EXTERNAL_SERVICE_ERROR,
			details
		);
		this.name = 'ExternalServiceError';
	}
}
export class FileProcessingError extends ClientError {
	constructor(retryAfter = defaultRetryAfter, details = {}) {
		const message = 'File processing failed.';
		const retryAfterMessage = createRetryMessage(retryAfter);
		const errorMessage = `${message} ${retryAfterMessage}`.trim();
		const customDetails = retryAfter ? { retryAfter, ...details } : details;
		super(
			errorMessage,
			500,
			ErrorSeverity.RECOVERABLE,
			ERROR_CODES.FILE_PROCESSING_ERROR,
			customDetails
		);
		this.name = 'FileProcessingError';
	}
}
export class ForbiddenError extends ClientError {
	constructor(action, details = {}) {
		const errorMessage = action
			? `Forbidden: You are not allowed to ${action}`
			: 'Forbidden';
		const customDetails = action ? { action, ...details } : details;
		super(
			errorMessage,
			403,
			ErrorSeverity.RECOVERABLE,
			ERROR_CODES.FORBIDDEN,
			customDetails
		);
		this.name = 'ForbiddenError';
	}
}
export class InvalidCredentialsError extends ClientError {
	constructor(errorMessage = 'Invalid credentials provided', details = {}) {
		super(
			errorMessage,
			401,
			ErrorSeverity.RECOVERABLE,
			ERROR_CODES.INVALID_CREDENTIALS,
			details
		);
		this.name = 'InvalidCredentialsError';
	}
}
export class InvalidInputError extends ClientError {
	constructor(inputName, details = {}) {
		const errorMessage = inputName
			? `Invalid input: ${inputName}`
			: 'Invalid input provided';
		const customDetails = inputName ? { inputName, ...details } : details;
		super(
			errorMessage,
			400,
			ErrorSeverity.WARNING,
			ERROR_CODES.INVALID_INPUT,
			customDetails
		);
		this.name = 'InvalidInputError';
	}
}
export class InvalidTokenError extends ClientError {
	constructor(
		errorMessage = 'Invalid or expired token',
		token,
		details = {}
	) {
		const customDetails = token ? { token, ...details } : details;
		super(
			errorMessage,
			401,
			ErrorSeverity.RECOVERABLE,
			ERROR_CODES.INVALID_TOKEN,
			customDetails
		);
		this.name = 'InvalidTokenError';
	}
}
export class PasswordValidationError extends ClientError {
	constructor(
		errorMessage = 'Password validation error. Please try again',
		details = {}
	) {
		super(
			errorMessage,
			400,
			ErrorSeverity.WARNING,
			ERROR_CODES.PASSWORD_VALIDATION_ERROR,
			details
		);
		this.name = 'PasswordValidationError';
	}
}
export class PermissionDeniedError extends ClientError {
	constructor(errorMessage = 'Permission denied', action, details = {}) {
		const customDetails = action ? { action, ...details } : details;
		super(
			errorMessage,
			403,
			ErrorSeverity.RECOVERABLE,
			ERROR_CODES.PERMISSION_DENIED,
			customDetails
		);
		this.name = 'PermissionDeniedError';
	}
}
export class QuotaExceededErrorRecoverable extends ClientError {
	constructor(
		retryAfter = defaultRetryAfter,
		quotaName,
		limit,
		details = {}
	) {
		const errorMessage = createQuotaExceededMessage(
			quotaName,
			limit,
			retryAfter
		);
		const errorDetails = {
			...(quotaName ? { quotaName } : {}),
			...(limit !== undefined ? { limit } : {}),
			...(retryAfter ? { retryAfter } : {}),
			...details
		};
		super(
			errorMessage,
			429,
			ErrorSeverity.RECOVERABLE,
			ERROR_CODES.QUOTA_EXCEEDED,
			errorDetails
		);
		this.name = 'QuotaExceededError';
	}
}
export class QuotaExceededErrorWarning extends ClientError {
	constructor(
		retryAfter = defaultRetryAfter,
		quotaName,
		limit,
		details = {}
	) {
		const errorMessage = createQuotaExceededMessage(
			quotaName,
			limit,
			retryAfter
		);
		const errorDetails = {
			...(quotaName ? { quotaName } : {}),
			...(limit !== undefined ? { limit } : {}),
			...(retryAfter ? { retryAfter } : {}),
			...details
		};
		super(
			errorMessage,
			429,
			ErrorSeverity.WARNING,
			ERROR_CODES.QUOTA_EXCEEDED_WARNING,
			errorDetails
		);
		this.name = 'QuotaExceededErrorWarning';
	}
}
export class RateLimitErrorRecoverable extends ClientError {
	constructor(retryAfter = defaultRetryAfter, details = {}) {
		const message = 'Rate limit exceeded.';
		const retryMessage = createRetryMessage(retryAfter);
		const errorMessage = `${message}${retryMessage}`.trim();
		const customDetails = retryAfter ? { retryAfter, ...details } : details;
		super(
			errorMessage,
			429,
			ErrorSeverity.RECOVERABLE,
			ERROR_CODES.RATE_LIMIT_EXCEEDED,
			customDetails
		);
		this.name = 'RateLimitErrorRecoverable';
	}
}
export class RateLimitErrorWarning extends ClientError {
	constructor(retryAfter = defaultRetryAfter, details = {}) {
		const message = 'Rate limit exceeded.';
		const retryMessage = createRetryMessage(retryAfter);
		const errorMessage = `${message}${retryMessage}`.trim();
		const customDetails = retryAfter ? { retryAfter, ...details } : details;
		super(
			errorMessage,
			429,
			ErrorSeverity.WARNING,
			ERROR_CODES.RATE_LIMIT_EXCEEDED_WARNING,
			customDetails
		);
		this.name = 'RateLimitErrorWarning';
	}
}
export class SessionExpiredError extends ClientError {
	constructor(errorMessage = 'Your session has expired', details = {}) {
		super(
			errorMessage,
			401,
			ErrorSeverity.RECOVERABLE,
			ERROR_CODES.SESSION_EXPIRED,
			details
		);
		this.name = 'SessionExpiredError';
	}
}
export class TimeoutError extends ClientError {
	constructor(
		errorMessage = 'Request timed out. Please try again',
		details = {}
	) {
		super(
			errorMessage,
			504,
			ErrorSeverity.RECOVERABLE,
			ERROR_CODES.TIMEOUT_ERROR,
			details
		);
		this.name = 'TimeoutError';
	}
}
export class UserRegistrationError extends ClientError {
	constructor(
		errorMessage = 'Account registration failed. Please try again.',
		details = {}
	) {
		super(
			errorMessage,
			500,
			ErrorSeverity.RECOVERABLE,
			ERROR_CODES.USER_REGISTRATION_ERROR,
			details
		);
		this.name = 'UserRegistrationError';
	}
}
export const ClientErrorClasses = {
	AutoCorrectedInputWarning,
	ClientAuthenticationError,
	DeprecatedApiWarning,
	ExternalServiceError,
	FallbackSuccessInfo,
	FileProcessingError,
	ForbiddenError,
	InvalidCredentialsError,
	InvalidInputError,
	InvalidTokenError,
	PasswordValidationError,
	PermissionDeniedError,
	QuotaExceededErrorRecoverable,
	QuotaExceededErrorWarning,
	RateLimitErrorRecoverable,
	RateLimitErrorWarning,
	SessionExpiredError,
	TimeoutError,
	UserRegistrationError
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2xpZW50RXJyb3JDbGFzc2VzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2Vycm9ycy9DbGllbnRFcnJvckNsYXNzZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDeEQsT0FBTyxFQUNOLFdBQVcsRUFFWCxhQUFhLEVBQ2IsMEJBQTBCLEVBQzFCLGtCQUFrQixFQUNsQixpQkFBaUIsRUFDakIsTUFBTSxnQkFBZ0IsQ0FBQztBQUN4QixPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFFbkQsTUFBTSxPQUFPLHlCQUEwQixTQUFRLFdBQVc7SUFDekQsWUFBWSxTQUFrQixFQUFFLFVBQXdCLEVBQUU7UUFDekQsTUFBTSxZQUFZLEdBQVcsU0FBUztZQUNyQyxDQUFDLENBQUMsR0FBRyxTQUFTLHFCQUFxQjtZQUNuQyxDQUFDLENBQUMsMEJBQTBCLENBQUM7UUFFOUIsTUFBTSxhQUFhLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLFNBQVMsRUFBRSxHQUFHLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUM7UUFFdEUsS0FBSyxDQUNKLFlBQVksRUFDWixHQUFHLEVBQ0gsYUFBYSxDQUFDLE9BQU8sRUFDckIsV0FBVyxDQUFDLHlCQUF5QixFQUNyQyxhQUFhLENBQ2IsQ0FBQztRQUNGLElBQUksQ0FBQyxJQUFJLEdBQUcsMkJBQTJCLENBQUM7SUFDekMsQ0FBQztDQUNEO0FBRUQsTUFBTSxPQUFPLHlCQUEwQixTQUFRLFdBQVc7SUFDekQsWUFDQyxlQUF1Qix1QkFBdUIsRUFDOUMsVUFBd0IsRUFBRTtRQUUxQixLQUFLLENBQ0osWUFBWSxFQUNaLEdBQUcsRUFDSCxhQUFhLENBQUMsV0FBVyxFQUN6QixXQUFXLENBQUMsaUJBQWlCLEVBQzdCLE9BQU8sQ0FDUCxDQUFDO1FBQ0YsSUFBSSxDQUFDLElBQUks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LEVBQUU7UUFFMUIsS0FBSyxDQUNKLFlBQVksRUFDWixHQUFHLEVBQ0gsYUFBYSxDQUFDLFdBQVcsRUFDekIsV0FBVyxDQUFDLGFBQWEsRUFDekIsT0FBTyxDQUNQLENBQUM7UUFDRixJQUFJLENBQUMsSUFBSSxHQUFHLGNBQWMsQ0FBQztJQUM1QixDQUFDO0NBQ0Q7QUFFRCxNQUFNLE9BQU8scUJBQXNCLFNBQVEsV0FBVztJQUNyRCxZQUNDLGVBQXVCLGdEQUFnRCxFQUN2RSxVQUF3QixFQUFFO1FBRTFCLEtBQUssQ0FDSixZQUFZLEVBQ1osR0FBRyxFQUNILGFBQWEsQ0FBQyxXQUFXLEVBQ3pCLFdBQVcsQ0FBQyx1QkFBdUIsRUFDbkMsT0FBTyxDQUNQLENBQUM7UUFDRixJQUFJLENBQUMsSUFBSSxHQUFHLHVCQUF1QixDQUFDO0lBQ3JDLENBQUM7Q0FDRDtBQUVELE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFHO0lBQ2pDLHlCQUF5QjtJQUN6Qix5QkFBeUI7SUFDekIsb0JBQW9CO0lBQ3BCLG9CQUFvQjtJQUNwQixtQkFBbUI7SUFDbkIsbUJBQW1CO0lBQ25CLGNBQWM7SUFDZCx1QkFBdUI7SUFDdkIsaUJBQWlCO0lBQ2pCLGlCQUFpQjtJQUNqQix1QkFBdUI7SUFDdkIscUJBQXFCO0lBQ3JCLDZCQUE2QjtJQUM3Qix5QkFBeUI7SUFDekIseUJBQXlCO0lBQ3pCLHFCQUFxQjtJQUNyQixtQkFBbUI7SUFDbkIsWUFBWTtJQUNaLHFCQUFxQjtDQUNyQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmFsbGJhY2tTdWNjZXNzSW5mbyB9IGZyb20gJy4vQXBwRXJyb3JDbGFzc2VzJztcbmltcG9ydCB7XG5cdENsaWVudEVycm9yLFxuXHRFcnJvckRldGFpbHMsXG5cdEVycm9yU2V2ZXJpdHksXG5cdGNyZWF0ZVF1b3RhRXhjZWVkZWRNZXNzYWdlLFxuXHRjcmVhdGVSZXRyeU1lc3NhZ2UsXG5cdGRlZmF1bHRSZXRyeUFmdGVyXG59IGZyb20gJy4vRXJyb3JDbGFzc2VzJztcbmltcG9ydCB7IEVSUk9SX0NPREVTIH0gZnJvbSAnLi4vY29uZmlnL2Vycm9yQ29kZXMnO1xuXG5leHBvcnQgY2xhc3MgQXV0b0NvcnJlY3RlZElucHV0V2FybmluZyBleHRlbmRzIENsaWVudEVycm9yIHtcblx0Y29uc3RydWN0b3IoZmllbGROYW1lPzogc3RyaW5nLCBkZXRhaWxzOiBFcnJvckRldGFpbHMgPSB7fSkge1xuXHRcdGNvbnN0IGVycm9yTWVzc2FnZTogc3RyaW5nID0gZmllbGROYW1lXG5cdFx0XHQ/IGAke2ZpZWxkTmFtZX0gd2FzIGF1dG8tY29ycmVjdGVkYFxuXHRcdFx0OiAnSW5wdXQgd2FzIGF1dG8tY29ycmVjdGVkJztcblxuXHRcdGNvbnN0IGN1c3RvbURldGFpbHMgPSBmaWVsZE5hbWUgPyB7IGZpZWxkTmFtZSwgLi4uZGV0YWlscyB9IDogZGV0YWlscztcblxuXHRcdHN1cGVyKFxuXHRcdFx0ZXJyb3JNZXNzYWdlLFxuXHRcdFx0MjAwLFxuXHRcdFx0RXJyb3JTZXZlcml0eS5XQVJOSU5HLFxuXHRcdFx0RVJST1JfQ09ERVMuQVVUT0NPUlJFQ1RfSU5QVVRfV0FSTklORyxcblx0XHRcdGN1c3RvbURldGFpbHNcblx0XHQpO1xuXHRcdHRoaXMubmFtZSA9ICdBdXRvQ29ycmVjdGVkSW5wdXRXYXJuaW5nJztcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgQ2xpZW50QXV0aGVudGljYXRpb25FcnJvciBleHRlbmRzIENsaWVudEVycm9yIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0ZXJyb3JNZXNzYWdlOiBzdHJpbmcgPSAnQXV0aGVudGljYXRpb24gZmFpbGVkJyxcblx0XHRkZXRhaWxzOiBFcnJvckRldGFpbHMgPSB7fVxuXHQpIHtcblx0XHRzdXBlcihcblx0XHRcdGVycm9yTWVzc2FnZSxcblx0XHRcdDQwMSxcblx0XHRcdEVycm9yU2V2ZXJpdHkuUkVDT1ZFUkFCTEUsXG5cdFx0XHRFUlJPUl9DT0RFUy5DTElFTlRfQVVUSF9FUlJPUixcblx0XHRcdGRldGFpbHNcblx0XHQpO1xuXHRcdHRoaXMubmFtZSA9ICdBdXRoZW50aWNhdGlvbkVycm9yJztcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgRGVwcmVjYXRlZEFwaVdhcm5pbmcgZXh0ZW5kcyBDbGllbnRFcnJvciB7XG5cdGNvbnN0cnVjdG9yKGFwaVZlcnNpb24/OiBzdHJpbmcsIGRldGFpbHM6IEVycm9yRGV0YWlscyA9IHt9KSB7XG5cdFx0Y29uc3QgZXJyb3JNZXNzYWdlOiBzdHJpbmcgPSBhcGlWZXJzaW9uXG5cdFx0XHQ/IGBEZXByZWNhdGVkIEFQSSB2ZXJzaW9uICR7YXBpVmVyc2lvbn0gdXNlZGBcblx0XHRcdDogJ0RlcHJlY2F0ZWQgQVBJIHZlcnNpb24gdXNlZCc7XG5cblx0XHRjb25zdCBjdXN0b21EZXRhaWxzID0gYXBpVmVyc2lvbiA/IHsgYXBpVmVyc2lvbiwgLi4uZGV0YWlscyB9IDogZGV0YWlscztcblxuXHRcdHN1cGVyKFxuXHRcdFx0ZXJyb3JNZXNzYWdlLFxuXHRcdFx0MjAwLFxuXHRcdFx0RXJyb3JTZXZlcml0eS5XQVJOSU5HLFxuXHRcdFx0RVJST1JfQ09ERVMuREVQUkVDQVRFRF9BUElfV0FSTklORyxcblx0XHRcdGN1c3RvbURldGFpbHNcblx0XHQpO1xuXHRcdHRoaXMubmFtZSA9ICdEZXByZWNhdGVkQXBpV2FybmluZyc7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEV4dGVybmFsU2VydmljZUVycm9yIGV4dGVuZHMgQ2xpZW50RXJyb3Ige1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRlcnJvck1lc3NhZ2UgPSAnU2VydmljZSB0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZScsXG5cdFx0ZGV0YWlsczogRXJyb3JEZXRhaWxzID0ge31cblx0KSB7XG5cdFx0c3VwZXIoXG5cdFx0XHRlcnJvck1lc3NhZ2UsXG5cdFx0XHQ1MDMsXG5cdFx0XHRFcnJvclNldmVyaXR5LlJFQ09WRVJBQkxFLFxuXHRcdFx0RVJST1JfQ09ERVMuRVhURVJOQUxfU0VSVklDRV9FUlJPUixcblx0XHRcdGRldGFpbHNcblx0XHQpO1xuXHRcdHRoaXMubmFtZSA9ICdFeHRlcm5hbFNlcnZpY2VFcnJvcic7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbGVQcm9jZXNzaW5nRXJyb3IgZXh0ZW5kcyBDbGllbnRFcnJvciB7XG5cdGNvbnN0cnVjdG9yKFxuXHRcdHJldHJ5QWZ0ZXI6IG51bWJlciA9IGRlZmF1bHRSZXRyeUFmdGVyLFxuXHRcdGRldGFpbHM6IEVycm9yRGV0YWlscyA9IHt9XG5cdCkge1xuXHRcdGNvbnN0IG1lc3NhZ2U6IHN0cmluZyA9ICdGaWxlIHByb2Nlc3NpbmcgZmFpbGVkLic7XG5cdFx0Y29uc3QgcmV0cnlBZnRlck1lc3NhZ2U6IHN0cmluZyA9IGNyZWF0ZVJldHJ5TWVzc2FnZShyZXRyeUFmdGVyKTtcblx0XHRjb25zdCBlcnJvck1lc3NhZ2U6IHN0cmluZyA9IGAke21lc3NhZ2V9ICR7cmV0cnlBZnRlck1lc3NhZ2V9YC50cmltKCk7XG5cblx0XHRjb25zdCBjdXN0b21EZXRhaWxzID0gcmV0cnlBZnRlciA/IHsgcmV0cnlBZnRlciwgLi4uZGV0YWlscyB9IDogZGV0YWlscztcblxuXHRcdHN1cGVyKFxuXHRcdFx0ZXJyb3JNZXNzYWdlLFxuXHRcdFx0NTAwLFxuXHRcdFx0RXJyb3JTZXZlcml0eS5SRUNPVkVSQUJMRSxcblx0XHRcdEVSUk9SX0NPREVTLkZJTEVfUFJPQ0VTU0lOR19FUlJPUixcblx0XHRcdGN1c3RvbURldGFpbHNcblx0XHQpO1xuXHRcdHRoaXMubmFtZSA9ICdGaWxlUHJvY2Vzc2luZ0Vycm9yJztcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgRm9yYmlkZGVuRXJyb3IgZXh0ZW5kcyBDbGllbnRFcnJvciB7XG5cdGNvbnN0cnVjdG9yKGFjdGlvbj86IHN0cmluZywgZGV0YWlsczogRXJyb3JEZXRhaWxzID0ge30pIHtcblx0XHRjb25zdCBlcnJvck1lc3NhZ2U6IHN0cmluZyA9IGFjdGlvblxuXHRcdFx0PyBgRm9yYmlkZGVuOiBZb3UgYXJlIG5vdCBhbGxvd2VkIHRvICR7YWN0aW9ufWBcblx0XHRcdDogJ0ZvcmJpZGRlbic7XG5cblx0XHRjb25zdCBjdXN0b21EZXRhaWxzID0gYWN0aW9uID8geyBhY3Rpb24sIC4uLmRldGFpbHMgfSA6IGRldGFpbHM7XG5cblx0XHRzdXBlcihcblx0XHRcdGVycm9yTWVzc2FnZSxcblx0XHRcdDQwMyxcblx0XHRcdEVycm9yU2V2ZXJpdHkuUkVDT1ZFUkFCTEUsXG5cdFx0XHRFUlJPUl9DT0RFUy5GT1JCSURERU4sXG5cdFx0XHRjdXN0b21EZXRhaWxzXG5cdFx0KTtcblx0XHR0aGlzLm5hbWUgPSAnRm9yYmlkZGVuRXJyb3InO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBJbnZhbGlkQ3JlZGVudGlhbHNFcnJvciBleHRlbmRzIENsaWVudEVycm9yIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0ZXJyb3JNZXNzYWdlOiBzdHJpbmcgPSAnSW52YWxpZCBjcmVkZW50aWFscyBwcm92aWRlZCcsXG5cdFx0ZGV0YWlsczogRXJyb3JEZXRhaWxzID0ge31cblx0KSB7XG5cdFx0c3VwZXIoXG5cdFx0XHRlcnJvck1lc3NhZ2UsXG5cdFx0XHQ0MDEsXG5cdFx0XHRFcnJvclNldmVyaXR5LlJFQ09WRVJBQkxFLFxuXHRcdFx0RVJST1JfQ09ERVMuSU5WQUxJRF9DUkVERU5USUFMUyxcblx0XHRcdGRldGFpbHNcblx0XHQpO1xuXHRcdHRoaXMubmFtZSA9ICdJbnZhbGlkQ3JlZGVudGlhbHNFcnJvcic7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEludmFsaWRJbnB1dEVycm9yIGV4dGVuZHMgQ2xpZW50RXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihpbnB1dE5hbWU/OiBzdHJpbmcsIGRldGFpbHM6IEVycm9yRGV0YWlscyA9IHt9KSB7XG5cdFx0Y29uc3QgZXJyb3JNZXNzYWdlOiBzdHJpbmcgPSBpbnB1dE5hbWVcblx0XHRcdD8gYEludmFsaWQgaW5wdXQ6ICR7aW5wdXROYW1lfWBcblx0XHRcdDogJ0ludmFsaWQgaW5wdXQgcHJvdmlkZWQnO1xuXG5cdFx0Y29uc3QgY3VzdG9tRGV0YWlscyA9IGlucHV0TmFtZSA/IHsgaW5wdXROYW1lLCAuLi5kZXRhaWxzIH0gOiBkZXRhaWxzO1xuXG5cdFx0c3VwZXIoXG5cdFx0XHRlcnJvck1lc3NhZ2UsXG5cdFx0XHQ0MDAsXG5cdFx0XHRFcnJvclNldmVyaXR5LldBUk5JTkcsXG5cdFx0XHRFUlJPUl9DT0RFUy5JTlZBTElEX0lOUFVULFxuXHRcdFx0Y3VzdG9tRGV0YWlsc1xuXHRcdCk7XG5cdFx0dGhpcy5uYW1lID0gJ0ludmFsaWRJbnB1dEVycm9yJztcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgSW52YWxpZFRva2VuRXJyb3IgZXh0ZW5kcyBDbGllbnRFcnJvciB7XG5cdGNvbnN0cnVjdG9yKFxuXHRcdGVycm9yTWVzc2FnZTogc3RyaW5nID0gJ0ludmFsaWQgb3IgZXhwaXJlZCB0b2tlbicsXG5cdFx0dG9rZW4/OiBzdHJpbmcsXG5cdFx0ZGV0YWlsczogRXJyb3JEZXRhaWxzID0ge31cblx0KSB7XG5cdFx0Y29uc3QgY3VzdG9tRGV0YWlscyA9IHRva2VuID8geyB0b2tlbiwgLi4uZGV0YWlscyB9IDogZGV0YWlscztcblxuXHRcdHN1cGVyKFxuXHRcdFx0ZXJyb3JNZXNzYWdlLFxuXHRcdFx0NDAxLFxuXHRcdFx0RXJyb3JTZXZlcml0eS5SRUNPVkVSQUJMRSxcblx0XHRcdEVSUk9SX0NPREVTLklOVkFMSURfVE9LRU4sXG5cdFx0XHRjdXN0b21EZXRhaWxzXG5cdFx0KTtcblx0XHR0aGlzLm5hbWUgPSAnSW52YWxpZFRva2VuRXJyb3InO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBQYXNzd29yZFZhbGlkYXRpb25FcnJvciBleHRlbmRzIENsaWVudEVycm9yIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0ZXJyb3JNZXNzYWdlOiBzdHJpbmcgPSAnUGFzc3dvcmQgdmFsaWRhdGlvbiBlcnJvci4gUGxlYXNlIHRyeSBhZ2FpbicsXG5cdFx0ZGV0YWlsczogRXJyb3JEZXRhaWxzID0ge31cblx0KSB7XG5cdFx0c3VwZXIoXG5cdFx0XHRlcnJvck1lc3NhZ2UsXG5cdFx0XHQ0MDAsXG5cdFx0XHRFcnJvclNldmVyaXR5LldBUk5JTkcsXG5cdFx0XHRFUlJPUl9DT0RFUy5QQVNTV09SRF9WQUxJREFUSU9OX0VSUk9SLFxuXHRcdFx0ZGV0YWlsc1xuXHRcdCk7XG5cdFx0dGhpcy5uYW1lID0gJ1Bhc3N3b3JkVmFsaWRhdGlvbkVycm9yJztcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgUGVybWlzc2lvbkRlbmllZEVycm9yIGV4dGVuZHMgQ2xpZW50RXJyb3Ige1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRlcnJvck1lc3NhZ2U6IHN0cmluZyA9ICdQZXJtaXNzaW9uIGRlbmllZCcsXG5cdFx0YWN0aW9uPzogc3RyaW5nLFxuXHRcdGRldGFpbHM6IEVycm9yRGV0YWlscyA9IHt9XG5cdCkge1xuXHRcdGNvbnN0IGN1c3RvbURldGFpbHMgPSBhY3Rpb24gPyB7IGFjdGlvbiwgLi4uZGV0YWlscyB9IDogZGV0YWlscztcblxuXHRcdHN1cGVyKFxuXHRcdFx0ZXJyb3JNZXNzYWdlLFxuXHRcdFx0NDAzLFxuXHRcdFx0RXJyb3JTZXZlcml0eS5SRUNPVkVSQUJMRSxcblx0XHRcdEVSUk9SX0NPREVTLlBFUk1JU1NJT05fREVOSUVELFxuXHRcdFx0Y3VzdG9tRGV0YWlsc1xuXHRcdCk7XG5cdFx0dGhpcy5uYW1lID0gJ1Blcm1pc3Npb25EZW5pZWRFcnJvcic7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFF1b3RhRXhjZWVkZWRFcnJvclJlY292ZXJhYmxlIGV4dGVuZHMgQ2xpZW50RXJyb3Ige1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRyZXRyeUFmdGVyOiBudW1iZXIgPSBkZWZhdWx0UmV0cnlBZnRlcixcblx0XHRxdW90YU5hbWU6IHN0cmluZyxcblx0XHRsaW1pdDogbnVtYmVyLFxuXHRcdGRldGFpbHM6IEVycm9yRGV0YWlscyA9IHt9XG5cdCkge1xuXHRcdGNvbnN0IGVycm9yTWVzc2FnZTogc3RyaW5nID0gY3JlYXRlUXVvdGFFeGNlZWRlZE1lc3NhZ2UoXG5cdFx0XHRxdW90YU5hbWUsXG5cdFx0XHRsaW1pdCxcblx0XHRcdHJldHJ5QWZ0ZXJcblx0XHQpO1xuXG5cdFx0Y29uc3QgZXJyb3JEZXRhaWxzOiBFcnJvckRldGFpbHMgPSB7XG5cdFx0XHQuLi4ocXVvdGFOYW1lID8geyBxdW90YU5hbWUgfSA6IHt9KSxcblx0XHRcdC4uLihsaW1pdCAhPT0gdW5kZWZpbmVkID8geyBsaW1pdCB9IDoge30pLFxuXHRcdFx0Li4uKHJldHJ5QWZ0ZXIgPyB7IHJldHJ5QWZ0ZXIgfSA6IHt9KSxcblx0XHRcdC4uLmRldGFpbHNcblx0XHR9O1xuXG5cdFx0c3VwZXIoXG5cdFx0XHRlcnJvck1lc3NhZ2UsXG5cdFx0XHQ0MjksXG5cdFx0XHRFcnJvclNldmVyaXR5LlJFQ09WRVJBQkxFLFxuXHRcdFx0RVJST1JfQ09ERVMuUVVPVEFfRVhDRUVERUQsXG5cdFx0XHRlcnJvckRldGFpbHNcblx0XHQpO1xuXHRcdHRoaXMubmFtZSA9ICdRdW90YUV4Y2VlZGVkRXJyb3InO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBRdW90YUV4Y2VlZGVkRXJyb3JXYXJuaW5nIGV4dGVuZHMgQ2xpZW50RXJyb3Ige1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRyZXRyeUFmdGVyOiBudW1iZXIgPSBkZWZhdWx0UmV0cnlBZnRlcixcblx0XHRxdW90YU5hbWU/OiBzdHJpbmcsXG5cdFx0bGltaXQ/OiBudW1iZXIsXG5cdFx0ZGV0YWlsczogRXJyb3JEZXRhaWxzID0ge31cblx0KSB7XG5cdFx0Y29uc3QgZXJyb3JNZXNzYWdlOiBzdHJpbmcgPSBjcmVhdGVRdW90YUV4Y2VlZGVkTWVzc2FnZShcblx0XHRcdHF1b3RhTmFtZSxcblx0XHRcdGxpbWl0LFxuXHRcdFx0cmV0cnlBZnRlclxuXHRcdCk7XG5cblx0XHRjb25zdCBlcnJvckRldGFpbHM6IEVycm9yRGV0YWlscyA9IHtcblx0XHRcdC4uLihxdW90YU5hbWUgPyB7IHF1b3RhTmFtZSB9IDoge30pLFxuXHRcdFx0Li4uKGxpbWl0ICE9PSB1bmRlZmluZWQgPyB7IGxpbWl0IH0gOiB7fSksXG5cdFx0XHQuLi4ocmV0cnlBZnRlciA/IHsgcmV0cnlBZnRlciB9IDoge30pLFxuXHRcdFx0Li4uZGV0YWlsc1xuXHRcdH07XG5cblx0XHRzdXBlcihcblx0XHRcdGVycm9yTWVzc2FnZSxcblx0XHRcdDQyOSxcblx0XHRcdEVycm9yU2V2ZXJpdHkuV0FSTklORyxcblx0XHRcdEVSUk9SX0NPREVTLlFVT1RBX0VYQ0VFREVEX1dBUk5JTkcsXG5cdFx0XHRlcnJvckRldGFpbHNcblx0XHQpO1xuXHRcdHRoaXMubmFtZSA9ICdRdW90YUV4Y2VlZGVkRXJyb3JXYXJuaW5nJztcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgUmF0ZUxpbWl0RXJyb3JSZWNvdmVyYWJsZSBleHRlbmRzIENsaWVudEVycm9yIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0cmV0cnlBZnRlcjogbnVtYmVyID0gZGVmYXVsdFJldHJ5QWZ0ZXIsXG5cdFx0ZGV0YWlsczogRXJyb3JEZXRhaWxzID0ge31cblx0KSB7XG5cdFx0Y29uc3QgbWVzc2FnZTogc3RyaW5nID0gJ1JhdGUgbGltaXQgZXhjZWVkZWQuJztcblx0XHRjb25zdCByZXRyeU1lc3NhZ2U6IHN0cmluZyA9IGNyZWF0ZVJldHJ5TWVzc2FnZShyZXRyeUFmdGVyKTtcblx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSBgJHttZXNzYWdlfSR7cmV0cnlNZXNzYWdlfWAudHJpbSgpO1xuXG5cdFx0Y29uc3QgY3VzdG9tRGV0YWlscyA9IHJldHJ5QWZ0ZXIgPyB7IHJldHJ5QWZ0ZXIsIC4uLmRldGFpbHMgfSA6IGRldGFpbHM7XG5cblx0XHRzdXBlcihcblx0XHRcdGVycm9yTWVzc2FnZSxcblx0XHRcdDQyOSxcblx0XHRcdEVycm9yU2V2ZXJpdHkuUkVDT1ZFUkFCTEUsXG5cdFx0XHRFUlJPUl9DT0RFUy5SQVRFX0xJTUlUX0VYQ0VFREVELFxuXHRcdFx0Y3VzdG9tRGV0YWlsc1xuXHRcdCk7XG5cdFx0dGhpcy5uYW1lID0gJ1JhdGVMaW1pdEVycm9yUmVjb3ZlcmFibGUnO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBSYXRlTGltaXRFcnJvcldhcm5pbmcgZXh0ZW5kcyBDbGllbnRFcnJvciB7XG5cdGNvbnN0cnVjdG9yKFxuXHRcdHJldHJ5QWZ0ZXI6IG51bWJlciA9IGRlZmF1bHRSZXRyeUFmdGVyLFxuXHRcdGRldGFpbHM6IEVycm9yRGV0YWlscyA9IHt9XG5cdCkge1xuXHRcdGNvbnN0IG1lc3NhZ2U6IHN0cmluZyA9ICdSYXRlIGxpbWl0IGV4Y2VlZGVkLic7XG5cdFx0Y29uc3QgcmV0cnlNZXNzYWdlOiBzdHJpbmcgPSBjcmVhdGVSZXRyeU1lc3NhZ2UocmV0cnlBZnRlcik7XG5cdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gYCR7bWVzc2FnZX0ke3JldHJ5TWVzc2FnZX1gLnRyaW0oKTtcblxuXHRcdGNvbnN0IGN1c3RvbURldGFpbHMgPSByZXRyeUFmdGVyID8geyByZXRyeUFmdGVyLCAuLi5kZXRhaWxzIH0gOiBkZXRhaWxzO1xuXG5cdFx0c3VwZXIoXG5cdFx0XHRlcnJvck1lc3NhZ2UsXG5cdFx0XHQ0MjksXG5cdFx0XHRFcnJvclNldmVyaXR5LldBUk5JTkcsXG5cdFx0XHRFUlJPUl9DT0RFUy5SQVRFX0xJTUlUX0VYQ0VFREVEX1dBUk5JTkcsXG5cdFx0XHRjdXN0b21EZXRhaWxzXG5cdFx0KTtcblx0XHR0aGlzLm5hbWUgPSAnUmF0ZUxpbWl0RXJyb3JXYXJuaW5nJztcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgU2Vzc2lvbkV4cGlyZWRFcnJvciBleHRlbmRzIENsaWVudEVycm9yIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0ZXJyb3JNZXNzYWdlOiBzdHJpbmcgPSAnWW91ciBzZXNzaW9uIGhhcyBleHBpcmVkJyxcblx0XHRkZXRhaWxzOiBFcnJvckRldGFpbHMgPSB7fVxuXHQpIHtcblx0XHRzdXBlcihcblx0XHRcdGVycm9yTWVzc2FnZSxcblx0XHRcdDQwMSxcblx0XHRcdEVycm9yU2V2ZXJpdHkuUkVDT1ZFUkFCTEUsXG5cdFx0XHRFUlJPUl9DT0RFUy5TRVNTSU9OX0VYUElSRUQsXG5cdFx0XHRkZXRhaWxzXG5cdFx0KTtcblx0XHR0aGlzLm5hbWUgPSAnU2Vzc2lvbkV4cGlyZWRFcnJvcic7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFRpbWVvdXRFcnJvciBleHRlbmRzIENsaWVudEVycm9yIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0ZXJyb3JNZXNzYWdlOiBzdHJpbmcgPSAnUmVxdWVzdCB0aW1lZCBvdXQuIFBsZWFzZSB0cnkgYWdhaW4nLFxuXHRcdGRldGFpbHM6IEVycm9yRGV0YWlscyA9IHt9XG5cdCkge1xuXHRcdHN1cGVyKFxuXHRcdFx0ZXJyb3JNZXNzYWdlLFxuXHRcdFx0NTA0LFxuXHRcdFx0RXJyb3JTZXZlcml0eS5SRUNPVkVSQUJMRSxcblx0XHRcdEVSUk9SX0NPREVTLlRJTUVPVVRfRVJST1IsXG5cdFx0XHRkZXRhaWxzXG5cdFx0KTtcblx0XHR0aGlzLm5hbWUgPSAnVGltZW91dEVycm9yJztcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgVXNlclJlZ2lzdHJhdGlvbkVycm9yIGV4dGVuZHMgQ2xpZW50RXJyb3Ige1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRlcnJvck1lc3NhZ2U6IHN0cmluZyA9ICdBY2NvdW50IHJlZ2lzdHJhdGlvbiBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uJyxcblx0XHRkZXRhaWxzOiBFcnJvckRldGFpbHMgPSB7fVxuXHQpIHtcblx0XHRzdXBlcihcblx0XHRcdGVycm9yTWVzc2FnZSxcblx0XHRcdDUwMCxcblx0XHRcdEVycm9yU2V2ZXJpdHkuUkVDT1ZFUkFCTEUsXG5cdFx0XHRFUlJPUl9DT0RFUy5VU0VSX1JFR0lTVFJBVElPTl9FUlJPUixcblx0XHRcdGRldGFpbHNcblx0XHQpO1xuXHRcdHRoaXMubmFtZSA9ICdVc2VyUmVnaXN0cmF0aW9uRXJyb3InO1xuXHR9XG59XG5cbmV4cG9ydCBjb25zdCBDbGllbnRFcnJvckNsYXNzZXMgPSB7XG5cdEF1dG9Db3JyZWN0ZWRJbnB1dFdhcm5pbmcsXG5cdENsaWVudEF1dGhlbnRpY2F0aW9uRXJyb3IsXG5cdERlcHJlY2F0ZWRBcGlXYXJuaW5nLFxuXHRFeHRlcm5hbFNlcnZpY2VFcnJvcixcblx0RmFsbGJhY2tTdWNjZXNzSW5mbyxcblx0RmlsZVByb2Nlc3NpbmdFcnJvcixcblx0Rm9yYmlkZGVuRXJyb3IsXG5cdEludmFsaWRDcmVkZW50aWFsc0Vycm9yLFxuXHRJbnZhbGlkSW5wdXRFcnJvcixcblx0SW52YWxpZFRva2VuRXJyb3IsXG5cdFBhc3N3b3JkVmFsaWRhdGlvbkVycm9yLFxuXHRQZXJtaXNzaW9uRGVuaWVkRXJyb3IsXG5cdFF1b3RhRXhjZWVkZWRFcnJvclJlY292ZXJhYmxlLFxuXHRRdW90YUV4Y2VlZGVkRXJyb3JXYXJuaW5nLFxuXHRSYXRlTGltaXRFcnJvclJlY292ZXJhYmxlLFxuXHRSYXRlTGltaXRFcnJvcldhcm5pbmcsXG5cdFNlc3Npb25FeHBpcmVkRXJyb3IsXG5cdFRpbWVvdXRFcnJvcixcblx0VXNlclJlZ2lzdHJhdGlvbkVycm9yXG59O1xuIl19
