import fs from 'fs';
import os from 'os';
import toobusy from 'toobusy-js';
import { EnvConfigServiceFactory } from '../index/factory/subfactories/EnvConfigServiceFactory.mjs';
import { CacheLayerServiceFactory } from '../index/factory/subfactories/CacheLayerServiceFactory.mjs';
import { DatabaseControllerFactory } from '../index/factory/subfactories/DatabaseControllerFactory.mjs';
import { HTTPSServerFactory } from '../index/factory/subfactories/HTTPSServerFactory.mjs';
import { LoggerServiceFactory } from '../index/factory/subfactories/LoggerServiceFactory.mjs';
import { ErrorHandlerServiceFactory } from '../index/factory/subfactories/ErrorHandlerServiceFactory.mjs';
import { ResourceManagerFactory } from '../index/factory/subfactories/ResourceManagerFactory.mjs';
export class HealthCheckService {
	static instance = null;
	logger;
	errorLogger;
	errorHandler;
	envConfig;
	cacheService;
	redisService;
	resourceManager;
	databaseController;
	httpsServer;
	healthCheckHistory = [];
	thresholdBreaches = [];
	healthCheckInterval = null;
	constructor(
		logger,
		errorLogger,
		errorHandler,
		envConfig,
		cacheService,
		redisService,
		resourceManager,
		databaseController,
		httpsServer
	) {
		this.logger = logger;
		this.errorLogger = errorLogger;
		this.errorHandler = errorHandler;
		this.envConfig = envConfig;
		this.cacheService = cacheService;
		this.redisService = redisService;
		this.resourceManager = resourceManager;
		this.databaseController = databaseController;
		this.httpsServer = httpsServer;
		this.healthCheckInterval = setInterval(() => {
			this.performHealthCheck();
		}, 10000);
	}
	static async getInstance() {
		if (!HealthCheckService.instance) {
			const logger = await LoggerServiceFactory.getLoggerService();
			const errorLogger =
				await LoggerServiceFactory.getErrorLoggerService();
			const errorHandler =
				await ErrorHandlerServiceFactory.getErrorHandlerService();
			const envConfig =
				await EnvConfigServiceFactory.getEnvConfigService();
			const cacheService =
				await CacheLayerServiceFactory.getCacheService();
			const redisService =
				await CacheLayerServiceFactory.getRedisService();
			const resourceManager =
				await ResourceManagerFactory.getResourceManager();
			const databaseController =
				await DatabaseControllerFactory.getDatabaseController();
			const httpsServer = await HTTPSServerFactory.getHTTPSServer();
			HealthCheckService.instance = new HealthCheckService(
				logger,
				errorLogger,
				errorHandler,
				envConfig,
				cacheService,
				redisService,
				resourceManager,
				databaseController,
				httpsServer
			);
		}
		return HealthCheckService.instance;
	}
	async performHealthCheck() {
		try {
			const databaseInfo =
				await this.databaseController.getDatabaseInfo();
			const httpsServerInfo = await this.httpsServer.getHTTPSServerInfo();
			const redisInfo = await this.redisService.getRedisInfo();
			const databaseHealth = {
				status: databaseInfo ? 'Connected' : 'Not connected',
				uptime: databaseInfo?.uptime_in_seconds ?? 0,
				cpuUsed: databaseInfo?.used_cpu_sys ?? 0,
				memoryUsed: databaseInfo?.used_memory ?? 0,
				cacheSize: databaseInfo?.cacheSize ?? 0,
				connectedClients: databaseInfo?.connected_clients ?? 0
			};
			const httpsServerHealth = {
				status: httpsServerInfo ? 'Running' : 'Stopped',
				uptime: httpsServerInfo?.uptime_in_seconds ?? 0,
				memoryUsed: (httpsServerInfo?.memoryUsage).heapUsed ?? 0,
				heapTotal: (httpsServerInfo?.memoryUsage).heapTotal ?? 0,
				cpuUsage: (httpsServerInfo?.cpuUsage).user ?? 0,
				connections: httpsServerInfo?.connections ?? 0
			};
			const redisHealth = {
				status: redisInfo ? 'Connected' : 'Not connected',
				uptime: redisInfo?.uptime_in_seconds ?? 0,
				memoryUsed: redisInfo?.used_memory ?? 0,
				cacheSize: redisInfo?.db0_size ?? 0,
				connectedClients: redisInfo?.connected_clients ?? 0
			};
			const healthSummary = {
				timestamp: new Date().toISOString(),
				databaseStatus: databaseHealth.status,
				httpsServerStatus: httpsServerHealth.status,
				redisStatus: redisHealth.status,
				databaseMetrics: databaseHealth,
				httpsServerMetrics: httpsServerHealth,
				redisMetrics: redisHealth,
				cacheServiceMetrics:
					this.cacheService.getCacheMetrics('healthCheckService'),
				eventLoopLag: toobusy.lag(),
				cpuUsage: this.resourceManager.getCpuUsage(),
				memoryUsage: this.resourceManager.getMemoryUsage(),
				diskUsage: await this.resourceManager.getDiskUsage(),
				networkStatus: this.resourceManager.getNetworkUsage(),
				eventLoopLagThreshold: this.envConfig.getEnvVariable(
					'eventLoopLagThreshold'
				),
				cpuThreshold: this.envConfig.getEnvVariable('cpuThreshold'),
				cpuLimit: this.envConfig.getEnvVariable('cpuLimit'),
				memoryThreshold:
					this.envConfig.getEnvVariable('memoryThreshold'),
				memoryLimit: this.envConfig.getEnvVariable('memoryLimit'),
				maxCacheSize: this.envConfig.getEnvVariable('maxCacheSize'),
				maxRedisCacheSize:
					this.envConfig.getEnvVariable('maxRedisCacheSize')
			};
			this.saveHealthCheckToHistory(healthSummary);
			this.logger.debug(`Health Check: ${JSON.stringify(healthSummary)}`);
			return healthSummary;
		} catch (error) {
			this.handleHealthCheckError(
				error,
				'HEALTH_CHECK_ERROR',
				{},
				'Error performing health check'
			);
			return {};
		}
	}
	async getHTTPSServerMetrics(serviceName) {
		try {
			const serverMetrics =
				await this.httpsServer.getHTTPSServerMetrics(serviceName);
			return {
				averageResponseTime: serverMetrics.averageResponseTime,
				requestRate: serverMetrics.requestsPerSecond,
				openConnections: serverMetrics.openConnections
			};
		} catch (error) {
			this.logger.error(
				`Failed to fetch HTTPS server metrics for ${serviceName}`,
				error
			);
			throw error;
		}
	}
	getHealthCheckHistory() {
		return this.healthCheckHistory;
	}
	async getHealthDataForDashboard() {
		return {
			currentHealth: await this.performHealthCheck(),
			history: this.getHealthCheckHistory()
		};
	}
	monitorEventLoopLag() {
		try {
			const lagThreshold =
				this.envConfig.getEnvVariable('eventLoopLagThreshold') || 70;
			setInterval(() => {
				const lag = toobusy.lag();
				if (lag > lagThreshold) {
					this.logger.warn(`High event loop lag detected: ${lag}ms`);
					this.resourceManager.adjustResources();
				}
			}, 10000);
		} catch (error) {
			this.handleHealthCheckError(
				error,
				'EVENT_LOOP_LAG_MONITOR_ERROR',
				{},
				'Error monitoring event loop lag'
			);
		}
	}
	monitorCPU() {
		setInterval(() => {
			const cpuUsage = this.resourceManager.getCpuUsage();
			cpuUsage.forEach(({ core, usage }) => {
				this.logger.info(`CPU ${core}: Usage ${usage}`);
			});
			this.resourceManager.adjustResources();
		}, 5000);
	}
	monitorMemoryUsage() {
		setInterval(() => {
			const memoryUsage = this.resourceManager.getMemoryUsage();
			this.logger.info(`Memory Usage: ${JSON.stringify(memoryUsage)}`);
			const memoryLimit = this.envConfig.getEnvVariable('memoryLimit');
			if (memoryUsage.heapUsed > memoryLimit) {
				this.logger.warn(
					`Memory usage exceeded limit (${memoryLimit} bytes). Adjusting resources...`
				);
				this.resourceManager.adjustResources();
			}
		}, 10000);
	}
	monitorDiskUsage() {
		try {
			const diskPath = this.envConfig.getEnvVariable('diskPath') || '/';
			setInterval(() => {
				fs.stat(diskPath, (err, stats) => {
					if (err) {
						this.logger.error(`Error getting disk usage: ${err}`);
						return;
					}
					this.logger.info(`Disk usage: ${JSON.stringify(stats)}`);
				});
			}, 30000);
		} catch (error) {
			this.handleHealthCheckError(
				error,
				'DISK_MONITOR_ERROR',
				{},
				'Error monitoring disk usage'
			);
		}
	}
	monitorCacheSize() {
		const cacheMetrics =
			this.cacheService.getCacheMetrics('resourceManager');
		const cacheSize = cacheMetrics.cacheSize;
		if (cacheSize) {
			if (cacheSize > this.envConfig.getEnvVariable('maxCacheSize')) {
				this.logger.warn(
					`Cache size exceeded limit. Clearing old entries...`
				);
				this.resourceManager.evictCacheEntries('resourceManager');
			}
		} else {
			this.logger.error('Error getting cache size');
		}
	}
	monitorNetworkUsage() {
		try {
			setInterval(() => {
				const networkInterfaces = os.networkInterfaces();
				Object.keys(networkInterfaces).forEach(interfaceName => {
					const netStats = networkInterfaces[interfaceName];
					if (netStats) {
						netStats.forEach(netStat => {
							this.logger.info(
								`Interface ${interfaceName}: Address ${netStat.address}, Family ${netStat.family}, Internal ${netStat.internal}`
							);
						});
					}
				});
			}, 10000);
		} catch (error) {
			this.handleHealthCheckError(
				error,
				'NETWORK_MONITOR_ERROR',
				{},
				'Error monitoring network usage'
			);
		}
	}
	saveHealthCheckToHistory(healthCheckData) {
		if (this.healthCheckHistory.length >= 100) {
			this.healthCheckHistory.shift();
		}
		this.healthCheckHistory.push(healthCheckData);
	}
	checkThresholds(healthSummary) {
		const eventLoopLag = healthSummary.eventLoopLag;
		const cpuUsage = healthSummary.cpuUsage;
		const memoryUsage = healthSummary.memoryUsage;
		if (
			eventLoopLag >
			this.envConfig.getEnvVariable('eventLoopLagThreshold')
		) {
			this.triggerAlert(
				'Event Loop Lag exceeded threshold',
				eventLoopLag
			);
		}
		if (
			cpuUsage.some(
				cpu =>
					parseFloat(cpu.usage) >
					this.envConfig.getEnvVariable('cpuThreshold')
			)
		) {
			this.triggerAlert('CPU Usage exceeded threshold', cpuUsage);
		}
		if (
			memoryUsage.heapUsed >
			this.envConfig.getEnvVariable('memoryThreshold')
		) {
			this.triggerAlert(
				'Memory Usage exceeded threshold',
				memoryUsage.heapUsed
			);
		}
	}
	triggerAlert(message, value) {
		this.logger.warn(`${message}: ${value}`);
		// *DEV-NOTE* email alert + webhook notification here.
	}
	autoRecover(healthSummary) {
		const memoryUsage = healthSummary.memoryUsage;
		if (
			memoryUsage.heapUsed > this.envConfig.getEnvVariable('memoryLimit')
		) {
			this.logger.warn('Memory usage high, attempting recovery...');
			const serviceName = 'healthCheckService'; // Specify the service name
			this.resourceManager.clearCaches(serviceName).catch(err => {
				this.logger.error(
					`Failed to clear caches for service: ${serviceName}`,
					err
				);
			});
			this.resourceManager.closeIdleConnections().catch(err => {
				this.logger.error('Failed to close idle connections', err);
			});
		}
	}
	logThresholdBreach(metric, value) {
		this.thresholdBreaches.push({
			metric,
			value,
			timestamp: new Date().toISOString()
		});
		if (this.thresholdBreaches.length > 100) {
			this.thresholdBreaches.shift();
		}
	}
	async shutdown() {
		try {
			this.logger.info('Shutting down HealthCheckService...');
			if (this.healthCheckInterval) {
				clearInterval(this.healthCheckInterval);
				this.logger.info('Health check interval cleared.');
			}
			await this.cacheService.clearNamespace('healthCheckService');
			this.logger.info('Health check cache cleared.');
			if (toobusy) {
				toobusy.shutdown();
				this.logger.info('Toobusy.js shutdown complete.');
			}
			this.logger.info('HealthCheckService shutdown completed.');
		} catch (error) {
			this.handleHealthCheckError(
				error,
				'SHUTDOWN_ERROR',
				{},
				'Error during HealthCheckService shutdown'
			);
		}
	}
	handleHealthCheckError(error, errorHeader, errorDetails, customMessage) {
		try {
			const errorMessage = `${customMessage}: ${error}\n${error instanceof Error ? error.stack : ''}`;
			this.errorLogger.logError(errorMessage);
			const healthCheckError =
				new this.errorHandler.ErrorClasses.ResourceManagerError(
					errorHeader,
					{
						details: errorDetails,
						exposeToClient: false
					}
				);
			this.errorHandler.handleError({
				error: healthCheckError
			});
		} catch (error) {
			this.errorLogger.logError(
				`Error handling health check error: ${error}`
			);
			const severity = this.errorHandler.ErrorSeverity.WARNING;
			this.errorHandler.handleError({
				error,
				details: {
					context: 'Health Check Service',
					action: 'Passing error from health check error handler to ErrorHandlerService',
					notes: 'Error occurred while handling Health Check error: ResourceManager.handleResourceManagerError'
				},
				severity
			});
		}
	}
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSGVhbHRoQ2hlY2suanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2VydmljZXMvSGVhbHRoQ2hlY2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE1BQU0sSUFBSSxDQUFDO0FBQ3BCLE9BQU8sRUFBRSxNQUFNLElBQUksQ0FBQztBQUNwQixPQUFPLE9BQU8sTUFBTSxZQUFZLENBQUM7QUFhakMsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sdURBQXVELENBQUM7QUFDaEcsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sd0RBQXdELENBQUM7QUFDbEcsT0FBTyxFQUFFLHlCQUF5QixFQUFFLE1BQU0seURBQXlELENBQUM7QUFDcEcsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sa0RBQWtELENBQUM7QUFDdEYsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sb0RBQW9ELENBQUM7QUFDMUYsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sMERBQTBELENBQUM7QUFDdEcsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sc0RBQXNELENBQUM7QUFFOUYsTUFBTSxPQUFPLGtCQUFrQjtJQUN0QixNQUFNLENBQUMsUUFBUSxHQUE4QixJQUFJLENBQUM7SUFDbEQsTUFBTSxDQUE0QjtJQUNsQyxXQUFXLENBQThCO0lBQ3pDLFlBQVksQ0FBK0I7SUFDM0MsU0FBUyxDQUE0QjtJQUNyQyxZQUFZLENBQXdCO0lBQ3BDLFlBQVksQ0FBd0I7SUFDcEMsZUFBZSxDQUEyQjtJQUMxQyxrQkFBa0IsQ0FBOEI7SUFDaEQsV0FBVyxDQUF1QjtJQUVsQyxrQkFBa0IsR0FBOEIsRUFBRSxDQUFDO0lBQ25ELGlCQUFpQixHQUFtQyxFQUFFLENBQUM7SUFDdkQsbUJBQW1CLEdBQTBCLElBQUksQ0FBQztJQUUxRCxZQUNDLE1BQWlDLEVBQ2pDLFdBQXdDLEVBQ3hDLFlBQTBDLEVBQzFDLFNBQW9DLEVBQ3BDLFlBQW1DLEVB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QztZQUNoRyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN4QyxNQUFNLGdCQUFnQixHQUNyQixJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLG9CQUFvQixDQUN0RCxXQUFXLEVBQ1g7Z0JBQ0MsT0FBTyxFQUFFLFlBQVk7Z0JBQ3JCLGNBQWMsRUFBRSxLQUFLO2FBQ3JCLENBQ0QsQ0FBQztZQUVILElBQUksQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDO2dCQUM3QixLQUFLLEVBQUUsZ0JBQWdCO2FBQ3ZCLENBQUMsQ0FBQztRQUNKLENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2hCLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUN4QixzQ0FBc0MsS0FBSyxFQUFFLENBQzdDLENBQUM7WUFDRixNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUM7WUFDekQsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUM7Z0JBQzdCLEtBQUs7Z0JBQ0wsT0FBTyxFQUFFO29CQUNSLE9BQU8sRUFBRSxzQkFBc0I7b0JBQy9CLE1BQU0sRUFBRSxzRUFBc0U7b0JBQzlFLEtBQUssRUFBRSw4RkFBOEY7aUJBQ3JHO2dCQUNELFFBQVE7YUFDUixDQUFDLENBQUM7UUFDSixDQUFDO0lBQ0YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgb3MgZnJvbSAnb3MnO1xuaW1wb3J0IHRvb2J1c3kgZnJvbSAndG9vYnVzeS1qcyc7XG5pbXBvcnQge1xuXHRBcHBMb2dnZXJTZXJ2aWNlSW50ZXJmYWNlLFxuXHRDYWNoZVNlcnZpY2VJbnRlcmZhY2UsXG5cdERhdGFiYXNlQ29udHJvbGxlckludGVyZmFjZSxcblx0RW52Q29uZmlnU2VydmljZUludGVyZmFjZSxcblx0RXJyb3JMb2dnZXJTZXJ2aWNlSW50ZXJmYWNlLFxuXHRFcnJvckhhbmRsZXJTZXJ2aWNlSW50ZXJmYWNlLFxuXHRIZWFsdGhDaGVja1NlcnZpY2VJbnRlcmZhY2UsXG5cdEhUVFBTU2VydmVySW50ZXJmYWNlLFxuXHRSZWRpc1NlcnZpY2VJbnRlcmZhY2UsXG5cdFJlc291cmNlTWFuYWdlckludGVyZmFjZVxufSBmcm9tICcuLi9pbmRleC9pbnRlcmZhY2VzL21haW4nO1xuaW1wb3J0IHsgRW52Q29uZmlnU2VydmljZUZhY3RvcnkgfSBmcm9tICcuLi9pbmRleC9mYWN0b3J5L3N1YmZhY3Rvcmllcy9FbnZDb25maWdTZXJ2aWNlRmFjdG9yeSc7XG5pbXBvcnQgeyBDYWNoZUxheWVyU2VydmljZUZhY3RvcnkgfSBmcm9tICcuLi9pbmRleC9mYWN0b3J5L3N1YmZhY3Rvcmllcy9DYWNoZUxheWVyU2VydmljZUZhY3RvcnknO1xuaW1wb3J0IHsgRGF0YWJhc2VDb250cm9sbGVyRmFjdG9yeSB9IGZyb20gJy4uL2luZGV4L2ZhY3Rvcnkvc3ViZmFjdG9yaWVzL0RhdGFiYXNlQ29udHJvbGxlckZhY3RvcnknO1xuaW1wb3J0IHsgSFRUUFNTZXJ2ZXJGYWN0b3J5IH0gZnJvbSAnLi4vaW5kZXgvZmFjdG9yeS9zdWJmYWN0b3JpZXMvSFRUUFNTZXJ2ZXJGYWN0b3J5JztcbmltcG9ydCB7IExvZ2dlclNlcnZpY2VGYWN0b3J5IH0gZnJvbSAnLi4vaW5kZXgvZmFjdG9yeS9zdWJmYWN0b3JpZXMvTG9nZ2VyU2VydmljZUZhY3RvcnknO1xuaW1wb3J0IHsgRXJyb3JIYW5kbGVyU2VydmljZUZhY3RvcnkgfSBmcm9tICcuLi9pbmRleC9mYWN0b3J5L3N1YmZhY3Rvcmllcy9FcnJvckhhbmRsZXJTZXJ2aWNlRmFjdG9yeSc7XG5pbXBvcnQgeyBSZXNvdXJjZU1hbmFnZXJGYWN0b3J5IH0gZnJvbSAnLi4vaW5kZXgvZmFjdG9yeS9zdWJmYWN0b3JpZXMvUmVzb3VyY2VNYW5hZ2VyRmFjdG9yeSc7XG5cbmV4cG9ydCBjbGFzcyBIZWFsdGhDaGVja1NlcnZpY2UgaW1wbGVtZW50cyBIZWFsdGhDaGVja1NlcnZpY2VJbnRlcmZhY2Uge1xuXHRwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogSGVhbHRoQ2hlY2tTZXJ2aWNlIHwgbnVsbCA9IG51bGw7XG5cdHByaXZhdGUgbG9nZ2VyOiBBcHBMb2dnZXJTZXJ2aWNlSW50ZXJmYWNlO1xuXHRwcml2YXRlIGVycm9yTG9nZ2VyOiBFcnJvckxvZ2dlclNlcnZpY2VJbnRlcmZhY2U7XG5cdHByaXZhdGUgZXJyb3JIYW5kbGVyOiBFcnJvckhhbmRsZXJTZXJ2aWNlSW50ZXJmYWNlO1xuXHRwcml2YXRlIGVudkNvbmZpZzogRW52Q29uZmlnU2VydmljZUludGVyZmFjZTtcblx0cHJpdmF0ZSBjYWNoZVNlcnZpY2U6IENhY2hlU2VydmljZUludGVyZmFjZTtcblx0cHJpdmF0ZSByZWRpc1NlcnZpY2U6IFJlZGlzU2VydmljZUludGVyZmFjZTtcblx0cHJpdmF0ZSByZXNvdXJjZU1hbmFnZXI6IFJlc291cmNlTWFuYWdlckludGVyZmFjZTtcblx0cHJpdmF0ZSBkYXRhYmFzZUNvbnRyb2xsZXI6IERhdGFiYXNlQ29udHJvbGxlckludGVyZmFjZTtcblx0cHJpdmF0ZSBodHRwc1NlcnZlcjogSFRUUFNTZXJ2ZXJJbnRlcmZhY2U7XG5cblx0cHJpdmF0ZSBoZWFsdGhDaGVja0hpc3Rvcnk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+W10gPSBbXTtcblx0cHJpdmF0ZSB0aHJlc2hvbGRCcmVhY2hlczogQXJyYXk8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+ID0gW107XG5cdHByaXZhdGUgaGVhbHRoQ2hlY2tJbnRlcnZhbDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcblxuXHRwcml2YXRlIGNvbnN0cnVjdG9yKFxuXHRcdGxvZ2dlcjogQXBwTG9nZ2VyU2VydmljZUludGVyZmFjZSxcblx0XHRlcnJvckxvZ2dlcjogRXJyb3JMb2dnZXJTZXJ2aWNlSW50ZXJmYWNlLFxuXHRcdGVycm9ySGFuZGxlcjogRXJyb3JIYW5kbGVyU2VydmljZUludGVyZmFjZSxcblx0XHRlbnZDb25maWc6IEVudkNvbmZpZ1NlcnZpY2VJbnRlcmZhY2UsXG5cdFx0Y2FjaGVTZXJ2aWNlOiBDYWNoZVNlcnZpY2VJbnRlcmZhY2UsXG5cdFx0cmVkaXNTZXJ2aWNlOiBSZWRpc1NlcnZpY2VJbnRlcmZhY2UsXG5cdFx0cmVzb3VyY2VNYW5hZ2VyOiBSZXNvdXJjZU1hbmFnZXJJbnRlcmZhY2UsXG5cdFx0ZGF0YWJhc2VDb250cm9sbGVyOiBEYXRhYmFzZUNvbnRyb2xsZXJJbnRlcmZhY2UsXG5cdFx0aHR0cHNTZXJ2ZXI6IEhUVFBTU2VydmVySW50ZXJmYWNlXG5cdCkge1xuXHRcdHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuXHRcdHRoaXMuZXJyb3JMb2dnZXIgPSBlcnJvckxvZ2dlcjtcblx0XHR0aGlzLmVycm9ySGFuZGxlciA9IGVycm9ySGFuZGxlcjtcblx0XHR0aGlzLmVudkNvbmZpZyA9IGVudkNvbmZpZztcblx0XHR0aGlzLmNhY2hlU2VydmljZSA9IGNhY2hlU2VydmljZTtcblx0XHR0aGlzLnJlZGlzU2VydmljZSA9IHJlZGlzU2VydmljZTtcblx0XHR0aGlzLnJlc291cmNlTWFuYWdlciA9IHJlc291cmNlTWFuYWdlcjtcblx0XHR0aGlzLmRhdGFiYXNlQ29udHJvbGxlciA9IGRhdGFiYXNlQ29udHJvbGxlcjtcblx0XHR0aGlzLmh0dHBzU2VydmVyID0gaHR0cHNTZXJ2ZXI7XG5cblx0XHR0aGlzLmhlYWx0aENoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG5cdFx0XHR0aGlzLnBlcmZvcm1IZWFsdGhDaGVjaygpO1xuXHRcdH0sIDEwMDAwKTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgYXN5bmMgZ2V0SW5zdGFuY2UoKTogUHJvbWlzZTxIZWFsdGhDaGVja1NlcnZpY2U+IHtcblx0XHRpZiAoIUhlYWx0aENoZWNrU2VydmljZS5pbnN0YW5jZSkge1xuXHRcdFx0Y29uc3QgbG9nZ2VyID0gYXdhaXQgTG9nZ2VyU2VydmljZUZhY3RvcnkuZ2V0TG9nZ2VyU2VydmljZSgpO1xuXHRcdFx0Y29uc3QgZXJyb3JMb2dnZXIgPVxuXHRcdFx0XHRhd2FpdCBMb2dnZXJTZXJ2aWNlRmFjdG9yeS5nZXRFcnJvckxvZ2dlclNlcnZpY2UoKTtcblx0XHRcdGNvbnN0IGVycm9ySGFuZGxlciA9XG5cdFx0XHRcdGF3YWl0IEVycm9ySGFuZGxlclNlcnZpY2VGYWN0b3J5LmdldEVycm9ySGFuZGxlclNlcnZpY2UoKTtcblx0XHRcdGNvbnN0IGVudkNvbmZpZyA9XG5cdFx0XHRcdGF3YWl0IEVudkNvbmZpZ1NlcnZpY2VGYWN0b3J5LmdldEVudkNvbmZpZ1NlcnZpY2UoKTtcblx0XHRcdGNvbnN0IGNhY2hlU2VydmljZSA9XG5cdFx0XHRcdGF3YWl0IENhY2hlTGF5ZXJTZXJ2aWNlRmFjdG9yeS5nZXRDYWNoZVNlcnZpY2UoKTtcblx0XHRcdGNvbnN0IHJlZGlzU2VydmljZSA9XG5cdFx0XHRcdGF3YWl0IENhY2hlTGF5ZXJTZXJ2aWNlRmFjdG9yeS5nZXRSZWRpc1NlcnZpY2UoKTtcblx0XHRcdGNvbnN0IHJlc291cmNlTWFuYWdlciA9XG5cdFx0XHRcdGF3YWl0IFJlc291cmNlTWFuYWdlckZhY3RvcnkuZ2V0UmVzb3VyY2VNYW5hZ2VyKCk7XG5cdFx0XHRjb25zdCBkYXRhYmFzZUNvbnRyb2xsZXIgPVxuXHRcdFx0XHRhd2FpdCBEYXRhYmFzZUNvbnRyb2xsZXJGYWN0b3J5LmdldERhdGFiYXNlQ29udHJvbGxlcigpO1xuXHRcdFx0Y29uc3QgaHR0cHNTZXJ2ZXIgPSBhd2FpdCBIVFRQU1NlcnZlckZhY3RvcnkuZ2V0SFRUUFNTZXJ2ZXIoKTtcblxuXHRcdFx0SGVhbHRoQ2hlY2tTZXJ2aWNlLmluc3RhbmNlID0gbmV3IEhlYWx0aENoZWNrU2VydmljZShcblx0XHRcdFx0bG9nZ2VyLFxuXHRcdFx0XHRlcnJvckxvZ2dlcixcblx0XHRcdFx0ZXJyb3JIYW5kbGVyLFxuXHRcdFx0XHRlbnZDb25maWcsXG5cdFx0XHRcdGNhY2hlU2VydmljZSxcblx0XHRcdFx0cmVkaXNTZXJ2aWNlLFxuXHRcdFx0XHRyZXNvdXJjZU1hbmFnZXIsXG5cdFx0XHRcdGRhdGFiYXNlQ29udHJvbGxlcixcblx0XHRcdFx0aHR0cHNTZXJ2ZXJcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIEhlYWx0aENoZWNrU2VydmljZS5pbnN0YW5jZTtcblx0fVxuXG5cdHB1YmxpYyBhc3luYyBwZXJmb3JtSGVhbHRoQ2hlY2soKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBkYXRhYmFzZUluZm8gPVxuXHRcdFx0XHRhd2FpdCB0aGlzLmRhdGFiYXNlQ29udHJvbGxlci5nZXREYXRhYmFzZUluZm8oKTtcblx0XHRcdGNvbnN0IGh0dHBzU2VydmVySW5mbyA9IGF3YWl0IHRoaXMuaHR0cHNTZXJ2ZXIuZ2V0SFRUUFNTZXJ2ZXJJbmZvKCk7XG5cdFx0XHRjb25zdCByZWRpc0luZm8gPSBhd2FpdCB0aGlzLnJlZGlzU2VydmljZS5nZXRSZWRpc0luZm8oKTtcblxuXHRcdFx0Y29uc3QgZGF0YWJhc2VIZWFsdGggPSB7XG5cdFx0XHRcdHN0YXR1czogZGF0YWJhc2VJbmZvID8gJ0Nvbm5lY3RlZCcgOiAnTm90IGNvbm5lY3RlZCcsXG5cdFx0XHRcdHVwdGltZTogZGF0YWJhc2VJbmZvPy51cHRpbWVfaW5fc2Vjb25kcyA/PyAwLFxuXHRcdFx0XHRjcHVVc2VkOiBkYXRhYmFzZUluZm8/LnVzZWRfY3B1X3N5cyA/PyAwLFxuXHRcdFx0XHRtZW1vcnlVc2VkOiBkYXRhYmFzZUluZm8/LnVzZWRfbWVtb3J5ID8/IDAsXG5cdFx0XHRcdGNhY2hlU2l6ZTogZGF0YWJhc2VJbmZvPy5jYWNoZVNpemUgPz8gMCxcblx0XHRcdFx0Y29ubmVjdGVkQ2xpZW50czogZGF0YWJhc2VJbmZvPy5jb25uZWN0ZWRfY2xpZW50cyA/PyAwXG5cdFx0XHR9O1xuXG5cdFx0XHRjb25zdCBodHRwc1NlcnZlckhlYWx0aCA9IHtcblx0XHRcdFx0c3RhdHVzOiBodHRwc1NlcnZlckluZm8gPyAnUnVubmluZycgOiAnU3RvcHBlZCcsXG5cdFx0XHRcdHVwdGltZTogaHR0cHNTZXJ2ZXJJbmZvPy51cHRpbWVfaW5fc2Vjb25kcyA/PyAwLFxuXHRcdFx0XHRtZW1vcnlVc2VkOlxuXHRcdFx0XHRcdChodHRwc1NlcnZlckluZm8/Lm1lbW9yeVVzYWdlIGFzIHsgaGVhcFVzZWQ6IG51bWJlciB9KVxuXHRcdFx0XHRcdFx0LmhlYXBVc2VkID8/IDAsXG5cdFx0XHRcdGhlYXBUb3RhbDpcblx0XHRcdFx0XHQoaHR0cHNTZXJ2ZXJJbmZvPy5tZW1vcnlVc2FnZSBhcyB7IGhlYXBUb3RhbDogbnVtYmVyIH0pXG5cdFx0XHRcdFx0XHQuaGVhcFRvdGFsID8/IDAsXG5cdFx0XHRcdGNwdVVzYWdlOlxuXHRcdFx0XHRcdChodHRwc1NlcnZlckluZm8/LmNwdVVzYWdlIGFzIHsgdXNlcjogbnVtYmVyIH0pLnVzZXIgPz8gMCxcblx0XHRcdFx0Y29ubmVjdGlvbnM6IGh0dHBzU2VydmVySW5mbz8uY29ubmVjdGlvbnMgPz8gMFxuXHRcdFx0fTtcblxuXHRcdFx0Y29uc3QgcmVkaXNIZWFsdGggPSB7XG5cdFx0XHRcdHN0YXR1czogcmVkaXNJbmZvID8gJ0Nvbm5lY3RlZCcgOiAnTm90IGNvbm5lY3RlZCcsXG5cdFx0XHRcdHVwdGltZTogcmVkaXNJbmZvPy51cHRpbWVfaW5fc2Vjb25kcyA/PyAwLFxuXHRcdFx0XHRtZW1vcnlVc2VkOiByZWRpc0luZm8/LnVzZWRfbWVtb3J5ID8/IDAsXG5cdFx0XHRcdGNhY2hlU2l6ZTogcmVkaXNJbmZvPy5kYjBfc2l6ZSA/PyAwLFxuXHRcdFx0XHRjb25uZWN0ZWRDbGllbnRzOiByZWRpc0luZm8/LmNvbm5lY3RlZF9jbGllbnRzID8/IDBcblx0XHRcdH07XG5cblx0XHRcdGNvbnN0IGhlYWx0aFN1bW1hcnk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge1xuXHRcdFx0XHR0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0ZGF0YWJhc2VTdGF0dXM6IGRhdGFiYXNlSGVhbHRoLnN0YXR1cyxcblx0XHRcdFx0aHR0cHNTZXJ2ZXJTdGF0dXM6IGh0dHBzU2VydmVySGVhbHRoLnN0YXR1cyxcblx0XHRcdFx0cmVkaXNTdGF0dXM6IHJlZGlzSGVhbHRoLnN0YXR1cyxcblx0XHRcdFx0ZGF0YWJhc2VNZXRyaWNzOiBkYXRhYmFzZUhlYWx0aCxcblx0XHRcdFx0aHR0cHNTZXJ2ZXJNZXRyaWNzOiBodHRwc1NlcnZlckhlYWx0aCxcblx0XHRcdFx0cmVkaXNNZXRyaWNzOiByZWRpc0hlYWx0aCxcblx0XHRcdFx0Y2FjaGVTZXJ2aWNlTWV0cmljczpcblx0XHRcdFx0XHR0aGlzLmNhY2hlU2VydmljZS5nZXRDYWNoZU1ldHJpY3MoJ2hlYWx0aENoZWNrU2VydmljZScpLFxuXHRcdFx0XHRldmVudExvb3BMYWc6IHRvb2J1c3kubGFnKCksXG5cdFx0XHRcdGNwdVVzYWdlOiB0aGlzLnJlc291cmNlTWFuYWdlci5nZXRDcHVVc2FnZSgpLFxuXHRcdFx0XHRtZW1vcnlVc2FnZTogdGhpcy5yZXNvdXJjZU1hbmFnZXIuZ2V0TWVtb3J5VXNhZ2UoKSxcblx0XHRcdFx0ZGlza1VzYWdlOiBhd2FpdCB0aGlzLnJlc291cmNlTWFuYWdlci5nZXREaXNrVXNhZ2UoKSxcblx0XHRcdFx0bmV0d29ya1N0YXR1czogdGhpcy5yZXNvdXJjZU1hbmFnZXIuZ2V0TmV0d29ya1VzYWdlKCksXG5cdFx0XHRcdGV2ZW50TG9vcExhZ1RocmVzaG9sZDogdGhpcy5lbnZDb25maWcuZ2V0RW52VmFyaWFibGUoXG5cdFx0XHRcdFx0J2V2ZW50TG9vcExhZ1RocmVzaG9sZCdcblx0XHRcdFx0KSxcblx0XHRcdFx0Y3B1VGhyZXNob2xkOiB0aGlzLmVudkNvbmZpZy5nZXRFbnZWYXJpYWJsZSgnY3B1VGhyZXNob2xkJyksXG5cdFx0XHRcdGNwdUxpbWl0OiB0aGlzLmVudkNvbmZpZy5nZXRFbnZWYXJpYWJsZSgnY3B1TGltaXQnKSxcblx0XHRcdFx0bWVtb3J5VGhyZXNob2xkOlxuXHRcdFx0XHRcdHRoaXMuZW52Q29uZmlnLmdldEVudlZhcmlhYmxlKCdtZW1vcnlUaHJlc2hvbGQnKSxcblx0XHRcdFx0bWVtb3J5TGltaXQ6IHRoaXMuZW52Q29uZmlnLmdldEVudlZhcmlhYmxlKCdtZW1vcnlMaW1pdCcpLFxuXHRcdFx0XHRtYXhDYWNoZVNpemU6IHRoaXMuZW52Q29uZmlnLmdldEVudlZhcmlhYmxlKCdtYXhDYWNoZVNpemUnKSxcblx0XHRcdFx0bWF4UmVkaXNDYWNoZVNpemU6XG5cdFx0XHRcdFx0dGhpcy5lbnZDb25maWcuZ2V0RW52VmFyaWFibGUoJ21heFJlZGlzQ2FjaGVTaXplJylcblx0XHRcdH07XG5cblx0XHRcdHRoaXMuc2F2ZUhlYWx0aENoZWNrVG9IaXN0b3J5KGhlYWx0aFN1bW1hcnkpO1xuXHRcdFx0dGhpcy5sb2dnZXIuZGVidWcoYEhlYWx0aCBDaGVjazogJHtKU09OLnN0cmluZ2lmeShoZWFsdGhTdW1tYXJ5KX1gKTtcblx0XHRcdHJldHVybiBoZWFsdGhTdW1tYXJ5O1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLmhhbmRsZUhlYWx0aENoZWNrRXJyb3IoXG5cdFx0XHRcdGVycm9yLFxuXHRcdFx0XHQnSEVBTFRIX0NIRUNLX0VSUk9SJyxcblx0XHRcdFx0e30sXG5cdFx0XHRcdCdFcnJvciBwZXJmb3JtaW5nIGhlYWx0aCBjaGVjaydcblx0XHRcdCk7XG5cdFx0XHRyZXR1cm4ge307XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGFzeW5jIGdldEhUVFBTU2VydmVyTWV0cmljcyhcblx0XHRzZXJ2aWNlTmFtZTogc3RyaW5nXG5cdCk6IFByb21pc2U8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qgc2VydmVyTWV0cmljcyA9XG5cdFx0XHRcdGF3YWl0IHRoaXMuaHR0cHNTZXJ2ZXIuZ2V0SFRUUFNTZXJ2ZXJNZXRyaWNzKHNlcnZpY2VOYW1lKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGF2ZXJhZ2VSZXNwb25zZVRpbWU6IHNlcnZlck1ldHJpY3MuYXZlcmFnZVJlc3BvbnNlVGltZSxcblx0XHRcdFx0cmVxdWVzdFJhdGU6IHNlcnZlck1ldHJpY3MucmVxdWVzdHNQZXJTZWNvbmQsXG5cdFx0XHRcdG9wZW5Db25uZWN0aW9uczogc2VydmVyTWV0cmljcy5vcGVuQ29ubmVjdGlvbnNcblx0XHRcdH07XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKFxuXHRcdFx0XHRgRmFpbGVkIHRvIGZldGNoIEhUVFBTIHNlcnZlciBtZXRyaWNzIGZvciAke3NlcnZpY2VOYW1lfWAsXG5cdFx0XHRcdGVycm9yXG5cdFx0XHQpO1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGdldEhlYWx0aENoZWNrSGlzdG9yeSgpOiBBcnJheTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4ge1xuXHRcdHJldHVybiB0aGlzLmhlYWx0aENoZWNrSGlzdG9yeTtcblx0fVxuXG5cdHB1YmxpYyBhc3luYyBnZXRIZWFsdGhEYXRhRm9yRGFzaGJvYXJkKCk6IFByb21pc2U8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+IHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Y3VycmVudEhlYWx0aDogYXdhaXQgdGhpcy5wZXJmb3JtSGVhbHRoQ2hlY2soKSxcblx0XHRcdGhpc3Rvcnk6IHRoaXMuZ2V0SGVhbHRoQ2hlY2tIaXN0b3J5KClcblx0XHR9O1xuXHR9XG5cblx0cHVibGljIG1vbml0b3JFdmVudExvb3BMYWcoKTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGxhZ1RocmVzaG9sZCA9XG5cdFx0XHRcdHRoaXMuZW52Q29uZmlnLmdldEVudlZhcmlhYmxlKCdldmVudExvb3BMYWdUaHJlc2hvbGQnKSB8fCA3MDtcblxuXHRcdFx0c2V0SW50ZXJ2YWwoKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBsYWcgPSB0b29idXN5LmxhZygpO1xuXG5cdFx0XHRcdGlmIChsYWcgPiBsYWdUaHJlc2hvbGQpIHtcblx0XHRcdFx0XHR0aGlzLmxvZ2dlci53YXJuKGBIaWdoIGV2ZW50IGxvb3AgbGFnIGRldGVjdGVkOiAke2xhZ31tc2ApO1xuXHRcdFx0XHRcdHRoaXMucmVzb3VyY2VNYW5hZ2VyLmFkanVzdFJlc291cmNlcygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCAxMDAwMCk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMuaGFuZGxlSGVhbHRoQ2hlY2tFcnJvcihcblx0XHRcdFx0ZXJyb3IsXG5cdFx0XHRcdCdFVkVOVF9MT09QX0xBR19NT05JVE9SX0VSUk9SJyxcblx0XHRcdFx0e30sXG5cdFx0XHRcdCdFcnJvciBtb25pdG9yaW5nIGV2ZW50IGxvb3AgbGFnJ1xuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgbW9uaXRvckNQVSgpOiB2b2lkIHtcblx0XHRzZXRJbnRlcnZhbCgoKSA9PiB7XG5cdFx0XHRjb25zdCBjcHVVc2FnZSA9IHRoaXMucmVzb3VyY2VNYW5hZ2VyLmdldENwdVVzYWdlKCk7XG5cdFx0XHRjcHVVc2FnZS5mb3JFYWNoKCh7IGNvcmUsIHVzYWdlIH0pID0+IHtcblx0XHRcdFx0dGhpcy5sb2dnZXIuaW5mbyhgQ1BVICR7Y29yZX06IFVzYWdlICR7dXNhZ2V9YCk7XG5cdFx0XHR9KTtcblx0XHRcdHRoaXMucmVzb3VyY2VNYW5hZ2VyLmFkanVzdFJlc291cmNlcygpO1xuXHRcdH0sIDUwMDApO1xuXHR9XG5cblx0cHVibGljIG1vbml0b3JNZW1vcnlVc2FnZSgpOiB2b2lkIHtcblx0XHRzZXRJbnRlcnZhbCgoKSA9PiB7XG5cdFx0XHRjb25zdCBtZW1vcnlVc2FnZSA9IHRoaXMucmVzb3VyY2VNYW5hZ2VyLmdldE1lbW9yeVVzYWdlKCk7XG5cdFx0XHR0aGlzLmxvZ2dlci5pbmZvKGBNZW1vcnkgVXNhZ2U6ICR7SlNPTi5zdHJpbmdpZnkobWVtb3J5VXNhZ2UpfWApO1xuXHRcdFx0Y29uc3QgbWVtb3J5TGltaXQgPSB0aGlzLmVudkNvbmZpZy5nZXRFbnZWYXJpYWJsZSgnbWVtb3J5TGltaXQnKTtcblx0XHRcdGlmIChtZW1vcnlVc2FnZS5oZWFwVXNlZCA+IG1lbW9yeUxpbWl0KSB7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLndhcm4oXG5cdFx0XHRcdFx0YE1lbW9yeSB1c2FnZSBleGNlZWRlZCBsaW1pdCAoJHttZW1vcnlMaW1pdH0gYnl0ZXMpLiBBZGp1c3RpbmcgcmVzb3VyY2VzLi4uYFxuXHRcdFx0XHQpO1xuXHRcdFx0XHR0aGlzLnJlc291cmNlTWFuYWdlci5hZGp1c3RSZXNvdXJjZXMoKTtcblx0XHRcdH1cblx0XHR9LCAxMDAwMCk7XG5cdH1cblxuXHRwdWJsaWMgbW9uaXRvckRpc2tVc2FnZSgpOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgZGlza1BhdGggPSB0aGlzLmVudkNvbmZpZy5nZXRFbnZWYXJpYWJsZSgnZGlza1BhdGgnKSB8fCAnLyc7XG5cdFx0XHRzZXRJbnRlcnZhbCgoKSA9PiB7XG5cdFx0XHRcdGZzLnN0YXQoZGlza1BhdGgsIChlcnIsIHN0YXRzKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdFx0dGhpcy5sb2dnZXIuZXJyb3IoYEVycm9yIGdldHRpbmcgZGlzayB1c2FnZTogJHtlcnJ9YCk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMubG9nZ2VyLmluZm8oYERpc2sgdXNhZ2U6ICR7SlNPTi5zdHJpbmdpZnkoc3RhdHMpfWApO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0sIDMwMDAwKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5oYW5kbGVIZWFsdGhDaGVja0Vycm9yKFxuXHRcdFx0XHRlcnJvcixcblx0XHRcdFx0J0RJU0tfTU9OSVRPUl9FUlJPUicsXG5cdFx0XHRcdHt9LFxuXHRcdFx0XHQnRXJyb3IgbW9uaXRvcmluZyBkaXNrIHVzYWdlJ1xuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgbW9uaXRvckNhY2hlU2l6ZSgpOiB2b2lkIHtcblx0XHRjb25zdCBjYWNoZU1ldHJpY3MgPVxuXHRcdFx0dGhpcy5jYWNoZVNlcnZpY2UuZ2V0Q2FjaGVNZXRyaWNzKCdyZXNvdXJjZU1hbmFnZXInKTtcblx0XHRjb25zdCBjYWNoZVNpemUgPSBjYWNoZU1ldHJpY3MuY2FjaGVTaXplO1xuXG5cdFx0aWYgKGNhY2hlU2l6ZSkge1xuXHRcdFx0aWYgKGNhY2hlU2l6ZSA+IHRoaXMuZW52Q29uZmlnLmdldEVudlZhcmlhYmxlKCdtYXhDYWNoZVNpemUnKSkge1xuXHRcdFx0XHR0aGlzLmxvZ2dlci53YXJuKFxuXHRcdFx0XHRcdGBDYWNoZSBzaXplIGV4Y2VlZGVkIGxpbWl0LiBDbGVhcmluZyBvbGQgZW50cmllcy4uLmBcblx0XHRcdFx0KTtcblx0XHRcdFx0dGhpcy5yZXNvdXJjZU1hbmFnZXIuZXZpY3RDYWNoZUVudHJpZXMoJ3Jlc291cmNlTWFuYWdlcicpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmxvZ2dlci5lcnJvcignRXJyb3IgZ2V0dGluZyBjYWNoZSBzaXplJyk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIG1vbml0b3JOZXR3b3JrVXNhZ2UoKTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdHNldEludGVydmFsKCgpID0+IHtcblx0XHRcdFx0Y29uc3QgbmV0d29ya0ludGVyZmFjZXMgPSBvcy5uZXR3b3JrSW50ZXJmYWNlcygpO1xuXHRcdFx0XHRPYmplY3Qua2V5cyhuZXR3b3JrSW50ZXJmYWNlcykuZm9yRWFjaChpbnRlcmZhY2VOYW1lID0+IHtcblx0XHRcdFx0XHRjb25zdCBuZXRTdGF0cyA9IG5ldHdvcmtJbnRlcmZhY2VzW2ludGVyZmFjZU5hbWVdO1xuXHRcdFx0XHRcdGlmIChuZXRTdGF0cykge1xuXHRcdFx0XHRcdFx0bmV0U3RhdHMuZm9yRWFjaChuZXRTdGF0ID0+IHtcblx0XHRcdFx0XHRcdFx0dGhpcy5sb2dnZXIuaW5mbyhcblx0XHRcdFx0XHRcdFx0XHRgSW50ZXJmYWNlICR7aW50ZXJmYWNlTmFtZX06IEFkZHJlc3MgJHtuZXRTdGF0LmFkZHJlc3N9LCBGYW1pbHkgJHtuZXRTdGF0LmZhbWlseX0sIEludGVybmFsICR7bmV0U3RhdC5pbnRlcm5hbH1gXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSwgMTAwMDApO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLmhhbmRsZUhlYWx0aENoZWNrRXJyb3IoXG5cdFx0XHRcdGVycm9yLFxuXHRcdFx0XHQnTkVUV09SS19NT05JVE9SX0VSUk9SJyxcblx0XHRcdFx0e30sXG5cdFx0XHRcdCdFcnJvciBtb25pdG9yaW5nIG5ldHdvcmsgdXNhZ2UnXG5cdFx0XHQpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgc2F2ZUhlYWx0aENoZWNrVG9IaXN0b3J5KFxuXHRcdGhlYWx0aENoZWNrRGF0YTogUmVjb3JkPHN0cmluZywgdW5rbm93bj5cblx0KTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuaGVhbHRoQ2hlY2tIaXN0b3J5Lmxlbmd0aCA+PSAxMDApIHtcblx0XHRcdHRoaXMuaGVhbHRoQ2hlY2tIaXN0b3J5LnNoaWZ0KCk7XG5cdFx0fVxuXHRcdHRoaXMuaGVhbHRoQ2hlY2tIaXN0b3J5LnB1c2goaGVhbHRoQ2hlY2tEYXRhKTtcblx0fVxuXG5cdHByaXZhdGUgY2hlY2tUaHJlc2hvbGRzKGhlYWx0aFN1bW1hcnk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogdm9pZCB7XG5cdFx0Y29uc3QgZXZlbnRMb29wTGFnID0gaGVhbHRoU3VtbWFyeS5ldmVudExvb3BMYWcgYXMgbnVtYmVyO1xuXHRcdGNvbnN0IGNwdVVzYWdlID0gaGVhbHRoU3VtbWFyeS5jcHVVc2FnZSBhcyBBcnJheTx7XG5cdFx0XHRjb3JlOiBudW1iZXI7XG5cdFx0XHR1c2FnZTogc3RyaW5nO1xuXHRcdH0+O1xuXHRcdGNvbnN0IG1lbW9yeVVzYWdlID0gaGVhbHRoU3VtbWFyeS5tZW1vcnlVc2FnZSBhcyB7XG5cdFx0XHRoZWFwVXNlZDogbnVtYmVyO1xuXHRcdFx0aGVhcFRvdGFsOiBudW1iZXI7XG5cdFx0fTtcblxuXHRcdGlmIChcblx0XHRcdGV2ZW50TG9vcExhZyA+XG5cdFx0XHR0aGlzLmVudkNvbmZpZy5nZXRFbnZWYXJpYWJsZSgnZXZlbnRMb29wTGFnVGhyZXNob2xkJylcblx0XHQpIHtcblx0XHRcdHRoaXMudHJpZ2dlckFsZXJ0KFxuXHRcdFx0XHQnRXZlbnQgTG9vcCBMYWcgZXhjZWVkZWQgdGhyZXNob2xkJyxcblx0XHRcdFx0ZXZlbnRMb29wTGFnXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGlmIChcblx0XHRcdGNwdVVzYWdlLnNvbWUoXG5cdFx0XHRcdGNwdSA9PlxuXHRcdFx0XHRcdHBhcnNlRmxvYXQoY3B1LnVzYWdlKSA+XG5cdFx0XHRcdFx0dGhpcy5lbnZDb25maWcuZ2V0RW52VmFyaWFibGUoJ2NwdVRocmVzaG9sZCcpXG5cdFx0XHQpXG5cdFx0KSB7XG5cdFx0XHR0aGlzLnRyaWdnZXJBbGVydCgnQ1BVIFVzYWdlIGV4Y2VlZGVkIHRocmVzaG9sZCcsIGNwdVVzYWdlKTtcblx0XHR9XG5cblx0XHRpZiAoXG5cdFx0XHRtZW1vcnlVc2FnZS5oZWFwVXNlZCA+XG5cdFx0XHR0aGlzLmVudkNvbmZpZy5nZXRFbnZWYXJpYWJsZSgnbWVtb3J5VGhyZXNob2xkJylcblx0XHQpIHtcblx0XHRcdHRoaXMudHJpZ2dlckFsZXJ0KFxuXHRcdFx0XHQnTWVtb3J5IFVzYWdlIGV4Y2VlZGVkIHRocmVzaG9sZCcsXG5cdFx0XHRcdG1lbW9yeVVzYWdlLmhlYXBVc2VkXG5cdFx0XHQpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgdHJpZ2dlckFsZXJ0KG1lc3NhZ2U6IHN0cmluZywgdmFsdWU6IHVua25vd24pOiB2b2lkIHtcblx0XHR0aGlzLmxvZ2dlci53YXJuKGAke21lc3NhZ2V9OiAke3ZhbHVlfWApO1xuXHRcdC8vICpERVYtTk9URSogZW1haWwgYWxlcnQgKyB3ZWJob29rIG5vdGlmaWNhdGlvbiBoZXJlLlxuXHR9XG5cblx0cHJpdmF0ZSBhdXRvUmVjb3ZlcihoZWFsdGhTdW1tYXJ5OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik6IHZvaWQge1xuXHRcdGNvbnN0IG1lbW9yeVVzYWdlID0gaGVhbHRoU3VtbWFyeS5tZW1vcnlVc2FnZSBhcyB7XG5cdFx0XHRoZWFwVXNlZDogbnVtYmVyO1xuXHRcdFx0aGVhcFRvdGFsOiBudW1iZXI7XG5cdFx0fTtcblxuXHRcdGlmIChcblx0XHRcdG1lbW9yeVVzYWdlLmhlYXBVc2VkID4gdGhpcy5lbnZDb25maWcuZ2V0RW52VmFyaWFibGUoJ21lbW9yeUxpbWl0Jylcblx0XHQpIHtcblx0XHRcdHRoaXMubG9nZ2VyLndhcm4oJ01lbW9yeSB1c2FnZSBoaWdoLCBhdHRlbXB0aW5nIHJlY292ZXJ5Li4uJyk7XG5cdFx0XHRjb25zdCBzZXJ2aWNlTmFtZSA9ICdoZWFsdGhDaGVja1NlcnZpY2UnOyAvLyBTcGVjaWZ5IHRoZSBzZXJ2aWNlIG5hbWVcblxuXHRcdFx0dGhpcy5yZXNvdXJjZU1hbmFnZXIuY2xlYXJDYWNoZXMoc2VydmljZU5hbWUpLmNhdGNoKGVyciA9PiB7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLmVycm9yKFxuXHRcdFx0XHRcdGBGYWlsZWQgdG8gY2xlYXIgY2FjaGVzIGZvciBzZXJ2aWNlOiAke3NlcnZpY2VOYW1lfWAsXG5cdFx0XHRcdFx0ZXJyXG5cdFx0XHRcdCk7XG5cdFx0XHR9KTtcblx0XHRcdHRoaXMucmVzb3VyY2VNYW5hZ2VyLmNsb3NlSWRsZUNvbm5lY3Rpb25zKCkuY2F0Y2goZXJyID0+IHtcblx0XHRcdFx0dGhpcy5sb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBjbG9zZSBpZGxlIGNvbm5lY3Rpb25zJywgZXJyKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgbG9nVGhyZXNob2xkQnJlYWNoKG1ldHJpYzogc3RyaW5nLCB2YWx1ZTogdW5rbm93bik6IHZvaWQge1xuXHRcdHRoaXMudGhyZXNob2xkQnJlYWNoZXMucHVzaCh7XG5cdFx0XHRtZXRyaWMsXG5cdFx0XHR2YWx1ZSxcblx0XHRcdHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG5cdFx0fSk7XG5cdFx0aWYgKHRoaXMudGhyZXNob2xkQnJlYWNoZXMubGVuZ3RoID4gMTAwKSB7XG5cdFx0XHR0aGlzLnRocmVzaG9sZEJyZWFjaGVzLnNoaWZ0KCk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGFzeW5jIHNodXRkb3duKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLmxvZ2dlci5pbmZvKCdTaHV0dGluZyBkb3duIEhlYWx0aENoZWNrU2VydmljZS4uLicpO1xuXG5cdFx0XHRpZiAodGhpcy5oZWFsdGhDaGVja0ludGVydmFsKSB7XG5cdFx0XHRcdGNsZWFySW50ZXJ2YWwodGhpcy5oZWFsdGhDaGVja0ludGVydmFsKTtcblx0XHRcdFx0dGhpcy5sb2dnZXIuaW5mbygnSGVhbHRoIGNoZWNrIGludGVydmFsIGNsZWFyZWQuJyk7XG5cdFx0XHR9XG5cblx0XHRcdGF3YWl0IHRoaXMuY2FjaGVTZXJ2aWNlLmNsZWFyTmFtZXNwYWNlKCdoZWFsdGhDaGVja1NlcnZpY2UnKTtcblx0XHRcdHRoaXMubG9nZ2VyLmluZm8oJ0hlYWx0aCBjaGVjayBjYWNoZSBjbGVhcmVkLicpO1xuXG5cdFx0XHRpZiAodG9vYnVzeSkge1xuXHRcdFx0XHR0b29idXN5LnNodXRkb3duKCk7XG5cdFx0XHRcdHRoaXMubG9nZ2VyLmluZm8oJ1Rvb2J1c3kuanMgc2h1dGRvd24gY29tcGxldGUuJyk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMubG9nZ2VyLmluZm8oJ0hlYWx0aENoZWNrU2VydmljZSBzaHV0ZG93biBjb21wbGV0ZWQuJyk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMuaGFuZGxlSGVhbHRoQ2hlY2tFcnJvcihcblx0XHRcdFx0ZXJyb3IsXG5cdFx0XHRcdCdTSFVURE9XTl9FUlJPUicsXG5cdFx0XHRcdHt9LFxuXHRcdFx0XHQnRXJyb3IgZHVyaW5nIEhlYWx0aENoZWNrU2VydmljZSBzaHV0ZG93bidcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBoYW5kbGVIZWFsdGhDaGVja0Vycm9yKFxuXHRcdGVycm9yOiB1bmtub3duLFxuXHRcdGVycm9ySGVhZGVyOiBzdHJpbmcsXG5cdFx0ZXJyb3JEZXRhaWxzOiBvYmplY3QsXG5cdFx0Y3VzdG9tTWVzc2FnZTogc3RyaW5nXG5cdCk6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBlcnJvck1lc3NhZ2UgPSBgJHtjdXN0b21NZXNzYWdlfTogJHtlcnJvcn1cXG4ke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6ICcnfWA7XG5cdFx0XHR0aGlzLmVycm9yTG9nZ2VyLmxvZ0Vycm9yKGVycm9yTWVzc2FnZSk7XG5cdFx0XHRjb25zdCBoZWFsdGhDaGVja0Vycm9yID1cblx0XHRcdFx0bmV3IHRoaXMuZXJyb3JIYW5kbGVyLkVycm9yQ2xhc3Nlcy5SZXNvdXJjZU1hbmFnZXJFcnJvcihcblx0XHRcdFx0XHRlcnJvckhlYWRlcixcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRkZXRhaWxzOiBlcnJvckRldGFpbHMsXG5cdFx0XHRcdFx0XHRleHBvc2VUb0NsaWVudDogZmFsc2Vcblx0XHRcdFx0XHR9XG5cdFx0XHRcdCk7XG5cblx0XHRcdHRoaXMuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKHtcblx0XHRcdFx0ZXJyb3I6IGhlYWx0aENoZWNrRXJyb3Jcblx0XHRcdH0pO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLmVycm9yTG9nZ2VyLmxvZ0Vycm9yKFxuXHRcdFx0XHRgRXJyb3IgaGFuZGxpbmcgaGVhbHRoIGNoZWNrIGVycm9yOiAke2Vycm9yfWBcblx0XHRcdCk7XG5cdFx0XHRjb25zdCBzZXZlcml0eSA9IHRoaXMuZXJyb3JIYW5kbGVyLkVycm9yU2V2ZXJpdHkuV0FSTklORztcblx0XHRcdHRoaXMuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKHtcblx0XHRcdFx0ZXJyb3IsXG5cdFx0XHRcdGRldGFpbHM6IHtcblx0XHRcdFx0XHRjb250ZXh0OiAnSGVhbHRoIENoZWNrIFNlcnZpY2UnLFxuXHRcdFx0XHRcdGFjdGlvbjogJ1Bhc3NpbmcgZXJyb3IgZnJvbSBoZWFsdGggY2hlY2sgZXJyb3IgaGFuZGxlciB0byBFcnJvckhhbmRsZXJTZXJ2aWNlJyxcblx0XHRcdFx0XHRub3RlczogJ0Vycm9yIG9jY3VycmVkIHdoaWxlIGhhbmRsaW5nIEhlYWx0aCBDaGVjayBlcnJvcjogUmVzb3VyY2VNYW5hZ2VyLmhhbmRsZVJlc291cmNlTWFuYWdlckVycm9yJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzZXZlcml0eVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG59XG4iXX0=
