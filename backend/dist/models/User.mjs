import { DataTypes, Model } from 'sequelize';
import { v4 as uuidv4 } from 'uuid';
import { ServiceFactory } from '../index/factory/ServiceFactory.mjs';
const errorLogger = await ServiceFactory.getErrorLoggerService();
const errorHandler = await ServiceFactory.getErrorHandlerService();
const databaseController = await ServiceFactory.getDatabaseController();
export class User extends Model {
	id;
	userId;
	username;
	password;
	email;
	isVerified;
	resetPasswordToken;
	resetPasswordExpires;
	isMFAEnabled;
	totpSecret;
	emailMFASecret;
	emailMFAToken;
	emailMFATokenExpires;
	creationDate;
	static initializeModel(sequelize) {
		User.init(
			{
				id: {
					type: DataTypes.STRING,
					defaultValue: () => uuidv4(),
					allowNull: false,
					primaryKey: true,
					unique: true
				},
				userId: {
					type: DataTypes.INTEGER,
					autoIncrement: true,
					allowNull: false,
					unique: true
				},
				username: {
					type: DataTypes.STRING,
					allowNull: false,
					unique: true
				},
				password: {
					type: DataTypes.STRING,
					allowNull: false
				},
				email: {
					type: DataTypes.STRING,
					allowNull: false,
					unique: true
				},
				isVerified: {
					type: DataTypes.BOOLEAN,
					allowNull: false,
					defaultValue: false
				},
				resetPasswordToken: {
					type: DataTypes.STRING,
					allowNull: true
				},
				resetPasswordExpires: {
					type: DataTypes.DATE,
					allowNull: true
				},
				isMFAEnabled: {
					type: DataTypes.BOOLEAN,
					allowNull: false,
					defaultValue: false
				},
				totpSecret: {
					type: DataTypes.STRING,
					allowNull: true
				},
				emailMFASecret: {
					type: DataTypes.STRING,
					allowNull: true
				},
				emailMFAToken: {
					type: DataTypes.STRING,
					allowNull: true
				},
				emailMFATokenExpires: {
					type: DataTypes.DATE,
					allowNull: true
				},
				creationDate: {
					type: DataTypes.DATE,
					allowNull: false,
					defaultValue: DataTypes.NOW
				}
			},
			{
				sequelize,
				tableName: 'Users',
				timestamps: true
			}
		);
	}
}
export async function createUserModel() {
	try {
		const sequelize = databaseController.getSequelizeInstance();
		if (!sequelize) {
			const databaseError =
				new errorHandler.ErrorClasses.DatabaseErrorRecoverable(
					`Failed to initialize User model: Sequelize instance not found`,
					{
						exposeToClient: false
					}
				);
			errorLogger.logInfo(databaseError.message);
			errorHandler.handleError({ error: databaseError });
			throw databaseError;
		}
		User.initializeModel(sequelize);
		return User;
	} catch (dbError) {
		const databaseRecoverableError =
			new errorHandler.ErrorClasses.DatabaseErrorRecoverable(
				`Failed to initialize User model: ${dbError instanceof Error ? dbError.message : 'Unknown error'}`,
				{ originalError: dbError || Error || null }
			);
		errorLogger.logInfo(databaseRecoverableError.message);
		errorHandler.handleError({
			error: databaseRecoverableError || dbError || Error || null
		});
		throw databaseRecoverableError;
	}
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXNlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tb2RlbHMvVXNlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBRU4sU0FBUyxFQUdULEtBQUssRUFFTCxNQUFNLFdBQVcsQ0FBQztBQUNuQixPQUFPLEVBQUUsRUFBRSxJQUFJLE1BQU0sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUVwQyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFFakUsTUFBTSxXQUFXLEdBQUcsTUFBTSxjQUFjLENBQUMscUJBQXFCLEVBQUUsQ0FBQztBQUNqRSxNQUFNLFlBQVksR0FBRyxNQUFNLGNBQWMsQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO0FBQ25FLE1BQU0sa0JBQWtCLEdBQUcsTUFBTSxjQUFjLENBQUMscUJBQXFCLEVBQUUsQ0FBQztBQUV4RSxNQUFNLE9BQU8sSUFDWixTQUFRLEtBQTJEO0lBRzVELEVBQUUsQ0FBVTtJQUNaLE1BQU0sQ0FBVTtJQUNoQixRQUFRLENBQVU7SUFDbEIsUUFBUSxDQUFVO0lBQ2xCLEtBQUssQ0FBVTtJQUNmLFVBQVUsQ0FBVztJQUNyQixrQkFBa0IsQ0FBaUI7SUFDbkMsb0JBQW9CLENBQWU7SUFDbkMsWUFBWSxDQUFXO0lBQ3ZCLFVBQVUsQ0FBNkI7SUFDdkMsY0FBYyxDQUE2QjtJQUMzQyxhQUFhLENBQTZCO0lBQzFDLG9CQUFvQixDQUEyQjtJQUMvQyxZQUFZLENBQTBCO0lBRTdDLE1BQU0sQ0FBQyxlQUFlLENBQUMsU0FBb0I7UUFDMUMsSUFBSSxDQUFDLElBQUksQ0FDUjtZQUNDLEVBQUUsRUFBRTtnQkFDSCxJQUFJLEVBQUUsU0FBUyxDQUFDLE1BQU07Z0JBQ3RCLFlBQVksRUFBRSxHQUFHLEVBQUUsQ0FBQyxNQUFNLEVBQUU7Z0JBQzVCLFNBQVMsRUFBRSxLQUFLO2dCQUNoQixVQUFVLEVBQUUsSUFBSTtnQkFDaEIsTUFBTSxFQUFFLElBQUk7YUFDWjtZQUNE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TyxDQUFDLENBQUMsQ0FBQyxlQUM5QyxFQUFFLEVBQ0YsRUFBRSxhQUFhLEVBQUUsT0FBTyxJQUFJLEtBQUssSUFBSSxJQUFJLEVBQUUsQ0FDM0MsQ0FBQztRQUNILFdBQVcsQ0FBQyxPQUFPLENBQUMsd0JBQXdCLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdEQsWUFBWSxDQUFDLFdBQVcsQ0FBQztZQUN4QixLQUFLLEVBQUUsd0JBQXdCLElBQUksT0FBTyxJQUFJLEtBQUssSUFBSSxJQUFJO1NBQzNELENBQUMsQ0FBQztRQUNILE1BQU0sd0JBQXdCLENBQUM7SUFDaEMsQ0FBQztBQUNGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuXHRDcmVhdGlvbk9wdGlvbmFsLFxuXHREYXRhVHlwZXMsXG5cdEluZmVyQXR0cmlidXRlcyxcblx0SW5mZXJDcmVhdGlvbkF0dHJpYnV0ZXMsXG5cdE1vZGVsLFxuXHRTZXF1ZWxpemVcbn0gZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IHsgVXNlckF0dHJpYnV0ZXNJbnRlcmZhY2UgfSBmcm9tICcuLi9pbmRleC9pbnRlcmZhY2VzL21vZGVscyc7XG5pbXBvcnQgeyBTZXJ2aWNlRmFjdG9yeSB9IGZyb20gJy4uL2luZGV4L2ZhY3RvcnkvU2VydmljZUZhY3RvcnknO1xuXG5jb25zdCBlcnJvckxvZ2dlciA9IGF3YWl0IFNlcnZpY2VGYWN0b3J5LmdldEVycm9yTG9nZ2VyU2VydmljZSgpO1xuY29uc3QgZXJyb3JIYW5kbGVyID0gYXdhaXQgU2VydmljZUZhY3RvcnkuZ2V0RXJyb3JIYW5kbGVyU2VydmljZSgpO1xuY29uc3QgZGF0YWJhc2VDb250cm9sbGVyID0gYXdhaXQgU2VydmljZUZhY3RvcnkuZ2V0RGF0YWJhc2VDb250cm9sbGVyKCk7XG5cbmV4cG9ydCBjbGFzcyBVc2VyXG5cdGV4dGVuZHMgTW9kZWw8SW5mZXJBdHRyaWJ1dGVzPFVzZXI+LCBJbmZlckNyZWF0aW9uQXR0cmlidXRlczxVc2VyPj5cblx0aW1wbGVtZW50cyBVc2VyQXR0cmlidXRlc0ludGVyZmFjZVxue1xuXHRwdWJsaWMgaWQhOiBzdHJpbmc7XG5cdHB1YmxpYyB1c2VySWQ/OiBudW1iZXI7XG5cdHB1YmxpYyB1c2VybmFtZSE6IHN0cmluZztcblx0cHVibGljIHBhc3N3b3JkITogc3RyaW5nO1xuXHRwdWJsaWMgZW1haWwhOiBzdHJpbmc7XG5cdHB1YmxpYyBpc1ZlcmlmaWVkITogYm9vbGVhbjtcblx0cHVibGljIHJlc2V0UGFzc3dvcmRUb2tlbiE6IHN0cmluZyB8IG51bGw7XG5cdHB1YmxpYyByZXNldFBhc3N3b3JkRXhwaXJlcyE6IERhdGUgfCBudWxsO1xuXHRwdWJsaWMgaXNNRkFFbmFibGVkITogYm9vbGVhbjtcblx0cHVibGljIHRvdHBTZWNyZXQ/OiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkO1xuXHRwdWJsaWMgZW1haWxNRkFTZWNyZXQ/OiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkO1xuXHRwdWJsaWMgZW1haWxNRkFUb2tlbj86IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ7XG5cdHB1YmxpYyBlbWFpbE1GQVRva2VuRXhwaXJlcz86IERhdGUgfCBudWxsIHwgdW5kZWZpbmVkO1xuXHRwdWJsaWMgY3JlYXRpb25EYXRlITogQ3JlYXRpb25PcHRpb25hbDxEYXRlPjtcblxuXHRzdGF0aWMgaW5pdGlhbGl6ZU1vZGVsKHNlcXVlbGl6ZTogU2VxdWVsaXplKTogdm9pZCB7XG5cdFx0VXNlci5pbml0KFxuXHRcdFx0e1xuXHRcdFx0XHRpZDoge1xuXHRcdFx0XHRcdHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG5cdFx0XHRcdFx0ZGVmYXVsdFZhbHVlOiAoKSA9PiB1dWlkdjQoKSxcblx0XHRcdFx0XHRhbGxvd051bGw6IGZhbHNlLFxuXHRcdFx0XHRcdHByaW1hcnlLZXk6IHRydWUsXG5cdFx0XHRcdFx0dW5pcXVlOiB0cnVlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHVzZXJJZDoge1xuXHRcdFx0XHRcdHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuXHRcdFx0XHRcdGF1dG9JbmNyZW1lbnQ6IHRydWUsXG5cdFx0XHRcdFx0YWxsb3dOdWxsOiBmYWxzZSxcblx0XHRcdFx0XHR1bmlxdWU6IHRydWVcblx0XHRcdFx0fSxcblx0XHRcdFx0dXNlcm5hbWU6IHtcblx0XHRcdFx0XHR0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuXHRcdFx0XHRcdGFsbG93TnVsbDogZmFsc2UsXG5cdFx0XHRcdFx0dW5pcXVlOiB0cnVlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHBhc3N3b3JkOiB7XG5cdFx0XHRcdFx0dHlwZTogRGF0YVR5cGVzLlNUUklORyxcblx0XHRcdFx0XHRhbGxvd051bGw6IGZhbHNlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGVtYWlsOiB7XG5cdFx0XHRcdFx0dHlwZTogRGF0YVR5cGVzLlNUUklORyxcblx0XHRcdFx0XHRhbGxvd051bGw6IGZhbHNlLFxuXHRcdFx0XHRcdHVuaXF1ZTogdHJ1ZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRpc1ZlcmlmaWVkOiB7XG5cdFx0XHRcdFx0dHlwZTogRGF0YVR5cGVzLkJPT0xFQU4sXG5cdFx0XHRcdFx0YWxsb3dOdWxsOiBmYWxzZSxcblx0XHRcdFx0XHRkZWZhdWx0VmFsdWU6IGZhbHNlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHJlc2V0UGFzc3dvcmRUb2tlbjoge1xuXHRcdFx0XHRcdHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG5cdFx0XHRcdFx0YWxsb3dOdWxsOiB0cnVlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHJlc2V0UGFzc3dvcmRFeHBpcmVzOiB7XG5cdFx0XHRcdFx0dHlwZTogRGF0YVR5cGVzLkRBVEUsXG5cdFx0XHRcdFx0YWxsb3dOdWxsOiB0cnVlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGlzTUZBRW5hYmxlZDoge1xuXHRcdFx0XHRcdHR5cGU6IERhdGFUeXBlcy5CT09MRUFOLFxuXHRcdFx0XHRcdGFsbG93TnVsbDogZmFsc2UsXG5cdFx0XHRcdFx0ZGVmYXVsdFZhbHVlOiBmYWxzZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0b3RwU2VjcmV0OiB7XG5cdFx0XHRcdFx0dHlwZTogRGF0YVR5cGVzLlNUUklORyxcblx0XHRcdFx0XHRhbGxvd051bGw6IHRydWVcblx0XHRcdFx0fSxcblx0XHRcdFx0ZW1haWxNRkFTZWNyZXQ6IHtcblx0XHRcdFx0XHR0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuXHRcdFx0XHRcdGFsbG93TnVsbDogdHJ1ZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRlbWFpbE1GQVRva2VuOiB7XG5cdFx0XHRcdFx0dHlwZTogRGF0YVR5cGVzLlNUUklORyxcblx0XHRcdFx0XHRhbGxvd051bGw6IHRydWVcblx0XHRcdFx0fSxcblx0XHRcdFx0ZW1haWxNRkFUb2tlbkV4cGlyZXM6IHtcblx0XHRcdFx0XHR0eXBlOiBEYXRhVHlwZXMuREFURSxcblx0XHRcdFx0XHRhbGxvd051bGw6IHRydWVcblx0XHRcdFx0fSxcblx0XHRcdFx0Y3JlYXRpb25EYXRlOiB7XG5cdFx0XHRcdFx0dHlwZTogRGF0YVR5cGVzLkRBVEUsXG5cdFx0XHRcdFx0YWxsb3dOdWxsOiBmYWxzZSxcblx0XHRcdFx0XHRkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5OT1dcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0c2VxdWVsaXplLFxuXHRcdFx0XHR0YWJsZU5hbWU6ICdVc2VycycsXG5cdFx0XHRcdHRpbWVzdGFtcHM6IHRydWVcblx0XHRcdH1cblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVVc2VyTW9kZWwoKTogUHJvbWlzZTx0eXBlb2YgVXNlcj4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHNlcXVlbGl6ZSA9IGRhdGFiYXNlQ29udHJvbGxlci5nZXRTZXF1ZWxpemVJbnN0YW5jZSgpO1xuXG5cdFx0aWYgKCFzZXF1ZWxpemUpIHtcblx0XHRcdGNvbnN0IGRhdGFiYXNlRXJyb3IgPVxuXHRcdFx0XHRuZXcgZXJyb3JIYW5kbGVyLkVycm9yQ2xhc3Nlcy5EYXRhYmFzZUVycm9yUmVjb3ZlcmFibGUoXG5cdFx0XHRcdFx0YEZhaWxlZCB0byBpbml0aWFsaXplIFVzZXIgbW9kZWw6IFNlcXVlbGl6ZSBpbnN0YW5jZSBub3QgZm91bmRgLFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGV4cG9zZVRvQ2xpZW50OiBmYWxzZVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0KTtcblx0XHRcdGVycm9yTG9nZ2VyLmxvZ0luZm8oZGF0YWJhc2VFcnJvci5tZXNzYWdlKTtcblx0XHRcdGVycm9ySGFuZGxlci5oYW5kbGVFcnJvcih7IGVycm9yOiBkYXRhYmFzZUVycm9yIH0pO1xuXHRcdFx0dGhyb3cgZGF0YWJhc2VFcnJvcjtcblx0XHR9XG5cblx0XHRVc2VyLmluaXRpYWxpemVNb2RlbChzZXF1ZWxpemUpO1xuXHRcdHJldHVybiBVc2VyO1xuXHR9IGNhdGNoIChkYkVycm9yKSB7XG5cdFx0Y29uc3QgZGF0YWJhc2VSZWNvdmVyYWJsZUVycm9yID1cblx0XHRcdG5ldyBlcnJvckhhbmRsZXIuRXJyb3JDbGFzc2VzLkRhdGFiYXNlRXJyb3JSZWNvdmVyYWJsZShcblx0XHRcdFx0YEZhaWxlZCB0byBpbml0aWFsaXplIFVzZXIgbW9kZWw6ICR7XG5cdFx0XHRcdFx0ZGJFcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZGJFcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXG5cdFx0XHRcdH1gLFxuXHRcdFx0XHR7IG9yaWdpbmFsRXJyb3I6IGRiRXJyb3IgfHwgRXJyb3IgfHwgbnVsbCB9XG5cdFx0XHQpO1xuXHRcdGVycm9yTG9nZ2VyLmxvZ0luZm8oZGF0YWJhc2VSZWNvdmVyYWJsZUVycm9yLm1lc3NhZ2UpO1xuXHRcdGVycm9ySGFuZGxlci5oYW5kbGVFcnJvcih7XG5cdFx0XHRlcnJvcjogZGF0YWJhc2VSZWNvdmVyYWJsZUVycm9yIHx8IGRiRXJyb3IgfHwgRXJyb3IgfHwgbnVsbFxuXHRcdH0pO1xuXHRcdHRocm93IGRhdGFiYXNlUmVjb3ZlcmFibGVFcnJvcjtcblx0fVxufVxuIl19
