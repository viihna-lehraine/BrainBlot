import { createClient } from 'redis';
import setupLogger from './logger.js';
const logger = await setupLogger();
async function connectRedis() {
	const client = createClient({
		url: 'redis://localhost:6379'
	});
	client.on('error', err => {
		logger.error('Redis client error:', err);
	});
	await client.connect();
	logger.info('Connected to Redis');
	await client.set('key', 'value');
	const value = await client.get('key');
	logger.info('Key value:', value);
	return client;
}
const redisClient = connectRedis();
export default redisClient;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVkaXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY29uZmlnL3JlZGlzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDckMsT0FBTyxXQUFXLE1BQU0sVUFBVSxDQUFDO0FBRW5DLE1BQU0sTUFBTSxHQUFHLE1BQU0sV0FBVyxFQUFFLENBQUM7QUFFbkMsS0FBSyxVQUFVLFlBQVk7SUFDMUIsSUFBSSxNQUFNLEdBQUcsWUFBWSxDQUFDO1FBQ3pCLEdBQUcsRUFBRSx3QkFBd0I7S0FDN0IsQ0FBQyxDQUFDO0lBRUgsTUFBTSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLEVBQUU7UUFDeEIsTUFBTSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUMxQyxDQUFDLENBQUMsQ0FBQztJQUVILE1BQU0sTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ3ZCLE1BQU0sQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztJQUVsQyxNQUFNLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ2pDLElBQUksS0FBSyxHQUFHLE1BQU0sTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNwQyxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxLQUFLLENBQUMsQ0FBQztJQUVqQyxPQUFPLE1BQU0sQ0FBQztBQUNmLENBQUM7QUFFRCxJQUFJLFdBQVcsR0FBRyxZQUFZLEVBQUUsQ0FBQztBQUVqQyxlQUFlLFdBQVcsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ3JlZGlzJztcbmltcG9ydCBzZXR1cExvZ2dlciBmcm9tICcuL2xvZ2dlcic7XG5cbmNvbnN0IGxvZ2dlciA9IGF3YWl0IHNldHVwTG9nZ2VyKCk7XG5cbmFzeW5jIGZ1bmN0aW9uIGNvbm5lY3RSZWRpcygpIHtcblx0bGV0IGNsaWVudCA9IGNyZWF0ZUNsaWVudCh7XG5cdFx0dXJsOiAncmVkaXM6Ly9sb2NhbGhvc3Q6NjM3OSdcblx0fSk7XG5cblx0Y2xpZW50Lm9uKCdlcnJvcicsIGVyciA9PiB7XG5cdFx0bG9nZ2VyLmVycm9yKCdSZWRpcyBjbGllbnQgZXJyb3I6JywgZXJyKTtcblx0fSk7XG5cblx0YXdhaXQgY2xpZW50LmNvbm5lY3QoKTtcblx0bG9nZ2VyLmluZm8oJ0Nvbm5lY3RlZCB0byBSZWRpcycpO1xuXG5cdGF3YWl0IGNsaWVudC5zZXQoJ2tleScsICd2YWx1ZScpO1xuXHRsZXQgdmFsdWUgPSBhd2FpdCBjbGllbnQuZ2V0KCdrZXknKTtcblx0bG9nZ2VyLmluZm8oJ0tleSB2YWx1ZTonLCB2YWx1ZSk7XG5cblx0cmV0dXJuIGNsaWVudDtcbn1cblxubGV0IHJlZGlzQ2xpZW50ID0gY29ubmVjdFJlZGlzKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHJlZGlzQ2xpZW50O1xuIl19
