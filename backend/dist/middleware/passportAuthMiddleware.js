import passport from 'passport';
export const authenticate = (req, res, next) => {
	passport.authenticate('jwt', { session: false }, (err, user) => {
		if (err || !user) {
			return res.status(401).json({ error: 'Unauthorized' });
		}
		req.user = user;
		return next;
	})(req, res, next);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFzc3BvcnRBdXRoTWlkZGxld2FyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taWRkbGV3YXJlL3Bhc3Nwb3J0QXV0aE1pZGRsZXdhcmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxRQUFpQyxNQUFNLFVBQVUsQ0FBQztBQUV6RCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FDM0IsR0FBWSxFQUNaLEdBQWEsRUFDYixJQUFrQixFQUNqQixFQUFFO0lBQ0gsUUFBUSxDQUFDLFlBQVksQ0FDcEIsS0FBSyxFQUNMLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBeUIsRUFDekMsQ0FBQyxHQUFpQixFQUFFLElBQTBCLEVBQUUsRUFBRTtRQUNqRCxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ2xCLE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLEVBQUUsY0FBYyxFQUFFLENBQUMsQ0FBQztRQUN4RCxDQUFDO1FBQ0QsR0FBRyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDaEIsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDLENBQ0QsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ25CLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRGdW5jdGlvbiwgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICdleHByZXNzJztcbmltcG9ydCBwYXNzcG9ydCwgeyBBdXRoZW50aWNhdGVPcHRpb25zIH0gZnJvbSAncGFzc3BvcnQnO1xuXG5leHBvcnQgY29uc3QgYXV0aGVudGljYXRlID0gKFxuXHRyZXE6IFJlcXVlc3QsXG5cdHJlczogUmVzcG9uc2UsXG5cdG5leHQ6IE5leHRGdW5jdGlvblxuKSA9PiB7XG5cdHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZShcblx0XHQnand0Jyxcblx0XHR7IHNlc3Npb246IGZhbHNlIH0gYXMgQXV0aGVudGljYXRlT3B0aW9ucyxcblx0XHQoZXJyOiBFcnJvciB8IG51bGwsIHVzZXI6IEV4cHJlc3MuVXNlciB8IGZhbHNlKSA9PiB7XG5cdFx0XHRpZiAoZXJyIHx8ICF1c2VyKSB7XG5cdFx0XHRcdHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9KTtcblx0XHRcdH1cblx0XHRcdHJlcS51c2VyID0gdXNlcjtcblx0XHRcdHJldHVybiBuZXh0O1xuXHRcdH1cblx0KShyZXEsIHJlcywgbmV4dCk7XG59O1xuIl19
