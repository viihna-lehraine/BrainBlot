export var FeatureFlagNames;
(function (FeatureFlagNames) {
	FeatureFlagNames['API_ROUTES_CSRF'] = 'FEATURE_API_ROUTES_CSRF';
	FeatureFlagNames['DB_SYNC'] = 'FEATURE_DB_SYNC';
	FeatureFlagNames['DECRYPT_KEYS'] = 'FEATURE_DECRYPT_KEYS';
	FeatureFlagNames['ENABLE_CSRF'] = 'FEATURE_ENABLE_CSRF';
	FeatureFlagNames['ENABLE_ERROR_HANDLER'] = 'FEATURE_ENABLE_ERROR_HANDLER';
	FeatureFlagNames['ENABLE_IP_BLACKLIST'] = 'FEATURE_ENABLE_IP_BLACKLIST';
	FeatureFlagNames['ENABLE_JWT_AUTH'] = 'FEATURE_ENABLE_JWT_AUTH';
	FeatureFlagNames['ENABLE_RATE_LIMIT'] = 'FEATURE_ENABLE_RATE_LIMIT';
	FeatureFlagNames['ENABLE_REDIS'] = 'FEATURE_ENABLE_REDIS';
	FeatureFlagNames['ENABLE_SSL'] = 'FEATURE_ENABLE_SSL';
	FeatureFlagNames['HTTPS_REDIRECT'] = 'FEATURE_HTTPS_REDIRECT';
	FeatureFlagNames['LOAD_TEST_ROUTES'] = 'FEATURE_LOAD_TEST_ROUTES';
	FeatureFlagNames['SECURE_HEADERS'] = 'FEATURE_SECURE_HEADERS';
	FeatureFlagNames['SEQUELIZE_LOGGING'] = 'FEATURE_SEQUELIZE_LOGGING';
})(FeatureFlagNames || (FeatureFlagNames = {}));
export function parseBoolean(value, logger) {
	if (value === undefined) {
		logger.warn('Feature flag value is undefined. Defaulting to false');
		return false;
	}
	if (typeof value === 'string') {
		return value.toLowerCase() === 'true';
	}
	return value === true;
}
export function getFeatureFlags(logger, env = process.env) {
	return {
		apiRoutesCsrfFlag: parseBoolean(env.FEATURE_API_ROUTES_CSRF, logger),
		dbSyncFlag: parseBoolean(env.FEATURE_DB_SYNC, logger),
		decryptKeysFlag: parseBoolean(env.FEATURE_DECRYPT_KEYS, logger),
		enableCsrfFlag: parseBoolean(env.FEATURE_ENABLE_CSRF, logger),
		enableErrorHandlerFlag: parseBoolean(
			env.FEATURE_ENABLE_ERROR_HANDLER,
			logger
		),
		enableIpBlacklistFlag: parseBoolean(
			env.FEATURE_ENABLE_IP_BLACKLIST,
			logger
		),
		enableJwtAuthFlag: parseBoolean(env.FEATURE_ENABLE_JWT_AUTH, logger),
		enableRateLimitFlag: parseBoolean(
			env.FEATURE_ENABLE_RATE_LIMIT,
			logger
		),
		enableRedisFlag: parseBoolean(env.FEATURE_ENABLE_REDIS, logger),
		enableSslFlag: parseBoolean(env.FEATURE_ENABLE_SSL, logger),
		httpsRedirectFlag: parseBoolean(env.FEATURE_HTTPS_REDIRECT, logger),
		loadTestRoutesFlag: parseBoolean(env.FEATURE_LOAD_TEST_ROUTES, logger),
		secureHeadersFlag: parseBoolean(env.FEATURE_SECURE_HEADERS, logger),
		sequelizeLoggingFlag: parseBoolean(
			env.FEATURE_SEQUELIZE_LOGGING,
			logger
		)
	};
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmVhdHVyZUZsYWdzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3V0aWxzL2ZlYXR1cmVGbGFncy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQU4sSUFBWSxnQkFlWDtBQWZELFdBQVksZ0JBQWdCO0lBQzNCLCtEQUEyQyxDQUFBO0lBQzNDLCtDQUEyQixDQUFBO0lBQzNCLHlEQUFxQyxDQUFBO0lBQ3JDLHVEQUFtQyxDQUFBO0lBQ25DLHlFQUFxRCxDQUFBO0lBQ3JELHVFQUFtRCxDQUFBO0lBQ25ELCtEQUEyQyxDQUFBO0lBQzNDLG1FQUErQyxDQUFBO0lBQy9DLHlEQUFxQyxDQUFBO0lBQ3JDLHFEQUFpQyxDQUFBO0lBQ2pDLDZEQUF5QyxDQUFBO0lBQ3pDLGlFQUE2QyxDQUFBO0lBQzdDLDZEQUF5QyxDQUFBO0lBQ3pDLG1FQUErQyxDQUFBO0FBQ2hELENBQUMsRUFmVyxnQkFBZ0IsS0FBaEIsZ0JBQWdCLFFBZTNCO0FBcUJELE1BQU0sVUFBVSxZQUFZLENBQzNCLEtBQW1DLEVBQ25DLE1BQWM7SUFFZCxJQUFJLEtBQUssS0FBSyxTQUFTLEVBQUUsQ0FBQztRQUN6QixNQUFNLENBQUMsSUFBSSxDQUFDLHNEQUFzRCxDQUFDLENBQUM7UUFDcEUsT0FBTyxLQUFLLENBQUM7SUFDZCxDQUFDO0lBQ0QsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUUsQ0FBQztRQUMvQixPQUFPLEtBQUssQ0FBQyxXQUFXLEVBQUUsS0FBSyxNQUFNLENBQUM7SUFDdkMsQ0FBQztJQUNELE9BQU8sS0FBSyxLQUFLLElBQUksQ0FBQztBQUN2QixDQUFDO0FBRUQsTUFBTSxVQUFVLGVBQWUsQ0FDOUIsTUFBYyxFQUNkLE1BQWtDLE9BQU8sQ0FBQyxHQUFHO0lBRTdDLE9BQU87UUFDTixpQkFBaUIsRUFBRSxZQUFZLENBQUMsR0FBRyxDQUFDLHVCQUF1QixFQUFFLE1BQU0sQ0FBQztRQUNwRSxVQUFVLEVBQUUsWUFBWSxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsTUFBTSxDQUFDO1FBQ3JELGVBQWUsRUFBRSxZQUFZLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFFLE1BQU0sQ0FBQztRQUMvRCxjQUFjLEVBQUUsWUFBWSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRSxNQUFNLENBQUM7UUFDN0Qsc0JBQXNCLEVBQUUsWUFBWSxDQUNuQyxHQUFHLENBQUMsNEJBQTRCLEVBQ2hDLE1BQU0sQ0FDTjtRQUNELHFCQUFxQixFQUFFLFlBQVksQ0FDbEMsR0FBRyxDQUFDLDJCQUEyQixFQUMvQixNQUFNLENBQ047UUFDRCxpQkFBaUIsRUFBRSxZQUFZLENBQUMsR0FBRyxDQUFDLHVCQUF1QixFQUFFLE1BQU0sQ0FBQztRQUNwRSxtQkFBbUIsRUFBRSxZQUFZLENBQ2hDLEdBQUcsQ0FBQyx5QkFBeUIsRUFDN0IsTUFBTSxDQUNOO1FBQ0QsZUFBZSxFQUFFLFlBQVksQ0FBQyxHQUFHLENBQUMsb0JBQW9CLEVBQUUsTUFBTSxDQUFDO1FBQy9ELGFBQWEsRUFBRSxZQUFZLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFFLE1BQU0sQ0FBQztRQUMzRCxpQkFBaUIsRUFBRSxZQUFZLENBQUMsR0FBRyxDQUFDLHNCQUFzQixFQUFFLE1BQU0sQ0FBQztRQUNuRSxrQkFBa0IsRUFBRSxZQUFZLENBQUMsR0FBRyxDQUFDLHdCQUF3QixFQUFFLE1BQU0sQ0FBQztRQUN0RSxpQkFBaUIsRUFBRSxZQUFZLENBQUMsR0FBRyxDQUFDLHNCQUFzQixFQUFFLE1BQU0sQ0FBQztRQUNuRSxvQkFBb0IsRUFBRSxZQUFZLENBQ2pDLEdBQUcsQ0FBQyx5QkFBeUIsRUFDN0IsTUFBTSxDQUNOO0tBQ0QsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZW51bSBGZWF0dXJlRmxhZ05hbWVzIHtcblx0QVBJX1JPVVRFU19DU1JGID0gJ0ZFQVRVUkVfQVBJX1JPVVRFU19DU1JGJyxcblx0REJfU1lOQyA9ICdGRUFUVVJFX0RCX1NZTkMnLFxuXHRERUNSWVBUX0tFWVMgPSAnRkVBVFVSRV9ERUNSWVBUX0tFWVMnLFxuXHRFTkFCTEVfQ1NSRiA9ICdGRUFUVVJFX0VOQUJMRV9DU1JGJyxcblx0RU5BQkxFX0VSUk9SX0hBTkRMRVIgPSAnRkVBVFVSRV9FTkFCTEVfRVJST1JfSEFORExFUicsXG5cdEVOQUJMRV9JUF9CTEFDS0xJU1QgPSAnRkVBVFVSRV9FTkFCTEVfSVBfQkxBQ0tMSVNUJyxcblx0RU5BQkxFX0pXVF9BVVRIID0gJ0ZFQVRVUkVfRU5BQkxFX0pXVF9BVVRIJyxcblx0RU5BQkxFX1JBVEVfTElNSVQgPSAnRkVBVFVSRV9FTkFCTEVfUkFURV9MSU1JVCcsXG5cdEVOQUJMRV9SRURJUyA9ICdGRUFUVVJFX0VOQUJMRV9SRURJUycsXG5cdEVOQUJMRV9TU0wgPSAnRkVBVFVSRV9FTkFCTEVfU1NMJyxcblx0SFRUUFNfUkVESVJFQ1QgPSAnRkVBVFVSRV9IVFRQU19SRURJUkVDVCcsXG5cdExPQURfVEVTVF9ST1VURVMgPSAnRkVBVFVSRV9MT0FEX1RFU1RfUk9VVEVTJyxcblx0U0VDVVJFX0hFQURFUlMgPSAnRkVBVFVSRV9TRUNVUkVfSEVBREVSUycsXG5cdFNFUVVFTElaRV9MT0dHSU5HID0gJ0ZFQVRVUkVfU0VRVUVMSVpFX0xPR0dJTkcnXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmVhdHVyZUZsYWdzIHtcblx0YXBpUm91dGVzQ3NyZkZsYWc6IGJvb2xlYW47XG5cdGRiU3luY0ZsYWc6IGJvb2xlYW47XG5cdGRlY3J5cHRLZXlzRmxhZzogYm9vbGVhbjtcblx0ZW5hYmxlQ3NyZkZsYWc6IGJvb2xlYW47XG5cdGVuYWJsZUVycm9ySGFuZGxlckZsYWc6IGJvb2xlYW47XG5cdGVuYWJsZUlwQmxhY2tsaXN0RmxhZzogYm9vbGVhbjtcblx0ZW5hYmxlSnd0QXV0aEZsYWc6IGJvb2xlYW47XG5cdGVuYWJsZVJhdGVMaW1pdEZsYWc6IGJvb2xlYW47XG5cdGVuYWJsZVJlZGlzRmxhZzogYm9vbGVhbjtcblx0ZW5hYmxlU3NsRmxhZzogYm9vbGVhbjtcblx0aHR0cHNSZWRpcmVjdEZsYWc6IGJvb2xlYW47XG5cdGxvYWRUZXN0Um91dGVzRmxhZzogYm9vbGVhbjtcblx0c2VjdXJlSGVhZGVyc0ZsYWc6IGJvb2xlYW47XG5cdHNlcXVlbGl6ZUxvZ2dpbmdGbGFnOiBib29sZWFuO1xufVxuXG5leHBvcnQgdHlwZSBMb2dnZXIgPSBSZWNvcmQ8J3dhcm4nLCAobXNnOiBzdHJpbmcpID0+IHZvaWQ+O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VCb29sZWFuKFxuXHR2YWx1ZTogc3RyaW5nIHwgYm9vbGVhbiB8IHVuZGVmaW5lZCxcblx0bG9nZ2VyOiBMb2dnZXJcbik6IGJvb2xlYW4ge1xuXHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdGxvZ2dlci53YXJuKCdGZWF0dXJlIGZsYWcgdmFsdWUgaXMgdW5kZWZpbmVkLiBEZWZhdWx0aW5nIHRvIGZhbHNlJyk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG5cdFx0cmV0dXJuIHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJztcblx0fVxuXHRyZXR1cm4gdmFsdWUgPT09IHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGZWF0dXJlRmxhZ3MoXG5cdGxvZ2dlcjogTG9nZ2VyLFxuXHRlbnY6IFBhcnRpYWw8Tm9kZUpTLlByb2Nlc3NFbnY+ID0gcHJvY2Vzcy5lbnZcbik6IEZlYXR1cmVGbGFncyB7XG5cdHJldHVybiB7XG5cdFx0YXBpUm91dGVzQ3NyZkZsYWc6IHBhcnNlQm9vbGVhbihlbnYuRkVBVFVSRV9BUElfUk9VVEVTX0NTUkYsIGxvZ2dlciksXG5cdFx0ZGJTeW5jRmxhZzogcGFyc2VCb29sZWFuKGVudi5GRUFUVVJFX0RCX1NZTkMsIGxvZ2dlciksXG5cdFx0ZGVjcnlwdEtleXNGbGFnOiBwYXJzZUJvb2xlYW4oZW52LkZFQVRVUkVfREVDUllQVF9LRVlTLCBsb2dnZXIpLFxuXHRcdGVuYWJsZUNzcmZGbGFnOiBwYXJzZUJvb2xlYW4oZW52LkZFQVRVUkVfRU5BQkxFX0NTUkYsIGxvZ2dlciksXG5cdFx0ZW5hYmxlRXJyb3JIYW5kbGVyRmxhZzogcGFyc2VCb29sZWFuKFxuXHRcdFx0ZW52LkZFQVRVUkVfRU5BQkxFX0VSUk9SX0hBTkRMRVIsXG5cdFx0XHRsb2dnZXJcblx0XHQpLFxuXHRcdGVuYWJsZUlwQmxhY2tsaXN0RmxhZzogcGFyc2VCb29sZWFuKFxuXHRcdFx0ZW52LkZFQVRVUkVfRU5BQkxFX0lQX0JMQUNLTElTVCxcblx0XHRcdGxvZ2dlclxuXHRcdCksXG5cdFx0ZW5hYmxlSnd0QXV0aEZsYWc6IHBhcnNlQm9vbGVhbihlbnYuRkVBVFVSRV9FTkFCTEVfSldUX0FVVEgsIGxvZ2dlciksXG5cdFx0ZW5hYmxlUmF0ZUxpbWl0RmxhZzogcGFyc2VCb29sZWFuKFxuXHRcdFx0ZW52LkZFQVRVUkVfRU5BQkxFX1JBVEVfTElNSVQsXG5cdFx0XHRsb2dnZXJcblx0XHQpLFxuXHRcdGVuYWJsZVJlZGlzRmxhZzogcGFyc2VCb29sZWFuKGVudi5GRUFUVVJFX0VOQUJMRV9SRURJUywgbG9nZ2VyKSxcblx0XHRlbmFibGVTc2xGbGFnOiBwYXJzZUJvb2xlYW4oZW52LkZFQVRVUkVfRU5BQkxFX1NTTCwgbG9nZ2VyKSxcblx0XHRodHRwc1JlZGlyZWN0RmxhZzogcGFyc2VCb29sZWFuKGVudi5GRUFUVVJFX0hUVFBTX1JFRElSRUNULCBsb2dnZXIpLFxuXHRcdGxvYWRUZXN0Um91dGVzRmxhZzogcGFyc2VCb29sZWFuKGVudi5GRUFUVVJFX0xPQURfVEVTVF9ST1VURVMsIGxvZ2dlciksXG5cdFx0c2VjdXJlSGVhZGVyc0ZsYWc6IHBhcnNlQm9vbGVhbihlbnYuRkVBVFVSRV9TRUNVUkVfSEVBREVSUywgbG9nZ2VyKSxcblx0XHRzZXF1ZWxpemVMb2dnaW5nRmxhZzogcGFyc2VCb29sZWFuKFxuXHRcdFx0ZW52LkZFQVRVUkVfU0VRVUVMSVpFX0xPR0dJTkcsXG5cdFx0XHRsb2dnZXJcblx0XHQpXG5cdH07XG59XG4iXX0=
